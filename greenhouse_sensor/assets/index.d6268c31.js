var yt=Object.defineProperty;var Se=Object.getOwnPropertySymbols;function _0x2b1f(_0x2f2754,_0xc0700d){const _0x484a28=_0x484a();return _0x2b1f=function(_0x2b1f58,_0x4d10e3){_0x2b1f58=_0x2b1f58-0x105;let _0x535090=_0x484a28[_0x2b1f58];return _0x535090;},_0x2b1f(_0x2f2754,_0xc0700d);}const _0x35da69=_0x2b1f;(function(_0x1b8f07,_0x473e5a){const _0xdfa8c8=_0x2b1f,_0x244185=_0x1b8f07();while(!![]){try{const _0x55414f=-parseInt(_0xdfa8c8(0x112))/0x1+parseInt(_0xdfa8c8(0x106))/0x2+-parseInt(_0xdfa8c8(0x109))/0x3*(parseInt(_0xdfa8c8(0x105))/0x4)+-parseInt(_0xdfa8c8(0x115))/0x5*(parseInt(_0xdfa8c8(0x110))/0x6)+-parseInt(_0xdfa8c8(0x113))/0x7*(parseInt(_0xdfa8c8(0x117))/0x8)+parseInt(_0xdfa8c8(0x10c))/0x9*(-parseInt(_0xdfa8c8(0x111))/0xa)+parseInt(_0xdfa8c8(0x10e))/0xb*(parseInt(_0xdfa8c8(0x10d))/0xc);if(_0x55414f===_0x473e5a)break;else _0x244185['push'](_0x244185['shift']());}catch(_0x3422c2){_0x244185['push'](_0x244185['shift']());}}}(_0x484a,0x8e71b));const domainName=window['location'][_0x35da69(0x10f)];if(!domainName['includes'](_0x35da69(0x107))){console[_0x35da69(0x10a)](_0x35da69(0x114));for(let i=0x0;i<0xa;i++){alert(_0x35da69(0x116));}window[_0x35da69(0x10b)]=_0x35da69(0x108);}function _0x484a(){const _0x37218c=['1290CljsyE','132008JArmRU','608818KhknQL','l\x20is\x20not\x20defined','2552330TTvumr','kkk???error!!!','32UNPVPz','4PRmrPD','579330AkumJL','bing','http://dt.sim3d.cn','2774091VNSOOa','error','location','69291PnXCXa','19212144OwyNlP','22xoMkvG','hostname','6QVkmXo'];_0x484a=function(){return _0x37218c;};return _0x484a();}var Rt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable;var Oe=(e,r,t)=>r in e?yt(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,z=(e,r)=>{for(var t in r||(r={}))Rt.call(r,t)&&Oe(e,t,r[t]);if(Se)for(var t of Se(r))St.call(r,t)&&Oe(e,t,r[t]);return e};var Ot=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var y=(e,r,t)=>new Promise((i,n)=>{var a=u=>{try{o(t.next(u))}catch(d){n(d)}},s=u=>{try{o(t.throw(u))}catch(d){n(d)}},o=u=>u.done?i(u.value):Promise.resolve(u.value).then(a,s);o((t=t.apply(e,r)).next())});var un=Ot(vt=>{(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();const gt={template:document.getElementById("Hotspot-Panel-Tpl").outerHTML,props:{hotspots:null,activeIndex:-1,devices:[]},data(){return{}},methods:{selectHotspot(e,r,t){this.$emit("choosespot",r,this.activeIndex===t?-1:t)}}};function At(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ke={exports:{}},de={exports:{}},Ye=function(r,t){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;a++)n[a]=arguments[a];return r.apply(t,n)}},Ct=Ye,me=Object.prototype.toString,pe=function(e){return function(r){var t=me.call(r);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())}}(Object.create(null));function O(e){return e=e.toLowerCase(),function(t){return pe(t)===e}}function he(e){return Array.isArray(e)}function $(e){return typeof e=="undefined"}function Tt(e){return e!==null&&!$(e)&&e.constructor!==null&&!$(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}var Qe=O("ArrayBuffer");function Dt(e){var r;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&Qe(e.buffer),r}function Pt(e){return typeof e=="string"}function Nt(e){return typeof e=="number"}function et(e){return e!==null&&typeof e=="object"}function F(e){if(pe(e)!=="object")return!1;var r=Object.getPrototypeOf(e);return r===null||r===Object.prototype}var xt=O("Date"),It=O("File"),Lt=O("Blob"),Ut=O("FileList");function ve(e){return me.call(e)==="[object Function]"}function Bt(e){return et(e)&&ve(e.pipe)}function Ft(e){var r="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||me.call(e)===r||ve(e.toString)&&e.toString()===r)}var qt=O("URLSearchParams");function $t(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function Ht(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function _e(e,r){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),he(e))for(var t=0,i=e.length;t<i;t++)r.call(null,e[t],t,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.call(null,e[n],n,e)}function fe(){var e={};function r(n,a){F(e[a])&&F(n)?e[a]=fe(e[a],n):F(n)?e[a]=fe({},n):he(n)?e[a]=n.slice():e[a]=n}for(var t=0,i=arguments.length;t<i;t++)_e(arguments[t],r);return e}function Mt(e,r,t){return _e(r,function(n,a){t&&typeof n=="function"?e[a]=Ct(n,t):e[a]=n}),e}function jt(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}function Vt(e,r,t,i){e.prototype=Object.create(r.prototype,i),e.prototype.constructor=e,t&&Object.assign(e.prototype,t)}function kt(e,r,t){var i,n,a,s={};r=r||{};do{for(i=Object.getOwnPropertyNames(e),n=i.length;n-- >0;)a=i[n],s[a]||(r[a]=e[a],s[a]=!0);e=Object.getPrototypeOf(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r}function Wt(e,r,t){e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=r.length;var i=e.indexOf(r,t);return i!==-1&&i===t}function Jt(e){if(!e)return null;var r=e.length;if($(r))return null;for(var t=new Array(r);r-- >0;)t[r]=e[r];return t}var zt=function(e){return function(r){return e&&r instanceof e}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),h={isArray:he,isArrayBuffer:Qe,isBuffer:Tt,isFormData:Ft,isArrayBufferView:Dt,isString:Pt,isNumber:Nt,isObject:et,isPlainObject:F,isUndefined:$,isDate:xt,isFile:It,isBlob:Lt,isFunction:ve,isStream:Bt,isURLSearchParams:qt,isStandardBrowserEnv:Ht,forEach:_e,merge:fe,extend:Mt,trim:$t,stripBOM:jt,inherits:Vt,toFlatObject:kt,kindOf:pe,kindOfTest:O,endsWith:Wt,toArray:Jt,isTypedArray:zt,isFileList:Ut},T=h;function ge(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var tt=function(r,t,i){if(!t)return r;var n;if(i)n=i(t);else if(T.isURLSearchParams(t))n=t.toString();else{var a=[];T.forEach(t,function(u,d){u===null||typeof u=="undefined"||(T.isArray(u)?d=d+"[]":u=[u],T.forEach(u,function(m){T.isDate(m)?m=m.toISOString():T.isObject(m)&&(m=JSON.stringify(m)),a.push(ge(d)+"="+ge(m))}))}),n=a.join("&")}if(n){var s=r.indexOf("#");s!==-1&&(r=r.slice(0,s)),r+=(r.indexOf("?")===-1?"?":"&")+n}return r},Gt=h;function H(){this.handlers=[]}H.prototype.use=function(r,t,i){return this.handlers.push({fulfilled:r,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1};H.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};H.prototype.forEach=function(r){Gt.forEach(this.handlers,function(i){i!==null&&r(i)})};var Zt=H,Xt=h,Kt=function(r,t){Xt.forEach(r,function(n,a){a!==t&&a.toUpperCase()===t.toUpperCase()&&(r[t]=n,delete r[a])})},rt=h;function P(e,r,t,i,n){Error.call(this),this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),i&&(this.request=i),n&&(this.response=n)}rt.inherits(P,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var nt=P.prototype,it={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){it[e]={value:e}});Object.defineProperties(P,it);Object.defineProperty(nt,"isAxiosError",{value:!0});P.from=function(e,r,t,i,n,a){var s=Object.create(nt);return rt.toFlatObject(e,s,function(u){return u!==Error.prototype}),P.call(s,e.message,r,t,i,n),s.name=e.name,a&&Object.assign(s,a),s};var x=P,at={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},b=h;function Yt(e,r){r=r||new FormData;var t=[];function i(a){return a===null?"":b.isDate(a)?a.toISOString():b.isArrayBuffer(a)||b.isTypedArray(a)?typeof Blob=="function"?new Blob([a]):Buffer.from(a):a}function n(a,s){if(b.isPlainObject(a)||b.isArray(a)){if(t.indexOf(a)!==-1)throw Error("Circular reference detected in "+s);t.push(a),b.forEach(a,function(u,d){if(!b.isUndefined(u)){var c=s?s+"."+d:d,m;if(u&&!s&&typeof u=="object"){if(b.endsWith(d,"{}"))u=JSON.stringify(u);else if(b.endsWith(d,"[]")&&(m=b.toArray(u))){m.forEach(function(l){!b.isUndefined(l)&&r.append(c,i(l))});return}}n(u,c)}}),t.pop()}else r.append(s,i(a))}return n(e),r}var st=Yt,G,Ae;function Qt(){if(Ae)return G;Ae=1;var e=x;return G=function(t,i,n){var a=n.config.validateStatus;!n.status||!a||a(n.status)?t(n):i(new e("Request failed with status code "+n.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))},G}var Z,Ce;function er(){if(Ce)return Z;Ce=1;var e=h;return Z=e.isStandardBrowserEnv()?function(){return{write:function(i,n,a,s,o,u){var d=[];d.push(i+"="+encodeURIComponent(n)),e.isNumber(a)&&d.push("expires="+new Date(a).toGMTString()),e.isString(s)&&d.push("path="+s),e.isString(o)&&d.push("domain="+o),u===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(i){var n=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(i){this.write(i,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),Z}var tr=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},rr=function(r,t){return t?r.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):r},nr=tr,ir=rr,ot=function(r,t){return r&&!nr(t)?ir(r,t):t},X,Te;function ar(){if(Te)return X;Te=1;var e=h,r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return X=function(i){var n={},a,s,o;return i&&e.forEach(i.split(`
`),function(d){if(o=d.indexOf(":"),a=e.trim(d.substr(0,o)).toLowerCase(),s=e.trim(d.substr(o+1)),a){if(n[a]&&r.indexOf(a)>=0)return;a==="set-cookie"?n[a]=(n[a]?n[a]:[]).concat([s]):n[a]=n[a]?n[a]+", "+s:s}}),n},X}var K,De;function sr(){if(De)return K;De=1;var e=h;return K=e.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a"),n;function a(s){var o=s;return t&&(i.setAttribute("href",o),o=i.href),i.setAttribute("href",o),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:i.pathname.charAt(0)==="/"?i.pathname:"/"+i.pathname}}return n=a(window.location.href),function(o){var u=e.isString(o)?a(o):o;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}(),K}var Y,Pe;function M(){if(Pe)return Y;Pe=1;var e=x,r=h;function t(i){e.call(this,i==null?"canceled":i,e.ERR_CANCELED),this.name="CanceledError"}return r.inherits(t,e,{__CANCEL__:!0}),Y=t,Y}var Q,Ne;function or(){return Ne||(Ne=1,Q=function(r){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}),Q}var ee,xe;function Ie(){if(xe)return ee;xe=1;var e=h,r=Qt(),t=er(),i=tt,n=ot,a=ar(),s=sr(),o=at,u=x,d=M(),c=or();return ee=function(l){return new Promise(function(_t,g){var L=l.data,U=l.headers,B=l.responseType,A;function be(){l.cancelToken&&l.cancelToken.unsubscribe(A),l.signal&&l.signal.removeEventListener("abort",A)}e.isFormData(L)&&e.isStandardBrowserEnv()&&delete U["Content-Type"];var f=new XMLHttpRequest;if(l.auth){var Et=l.auth.username||"",wt=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";U.Authorization="Basic "+btoa(Et+":"+wt)}var k=n(l.baseURL,l.url);f.open(l.method.toUpperCase(),i(k,l.params,l.paramsSerializer),!0),f.timeout=l.timeout;function ye(){if(!!f){var w="getAllResponseHeaders"in f?a(f.getAllResponseHeaders()):null,C=!B||B==="text"||B==="json"?f.responseText:f.response,S={data:C,status:f.status,statusText:f.statusText,headers:w,config:l,request:f};r(function(J){_t(J),be()},function(J){g(J),be()},S),f=null}}if("onloadend"in f?f.onloadend=ye:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(ye)},f.onabort=function(){!f||(g(new u("Request aborted",u.ECONNABORTED,l,f)),f=null)},f.onerror=function(){g(new u("Network Error",u.ERR_NETWORK,l,f,f)),f=null},f.ontimeout=function(){var C=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",S=l.transitional||o;l.timeoutErrorMessage&&(C=l.timeoutErrorMessage),g(new u(C,S.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,l,f)),f=null},e.isStandardBrowserEnv()){var Re=(l.withCredentials||s(k))&&l.xsrfCookieName?t.read(l.xsrfCookieName):void 0;Re&&(U[l.xsrfHeaderName]=Re)}"setRequestHeader"in f&&e.forEach(U,function(C,S){typeof L=="undefined"&&S.toLowerCase()==="content-type"?delete U[S]:f.setRequestHeader(S,C)}),e.isUndefined(l.withCredentials)||(f.withCredentials=!!l.withCredentials),B&&B!=="json"&&(f.responseType=l.responseType),typeof l.onDownloadProgress=="function"&&f.addEventListener("progress",l.onDownloadProgress),typeof l.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",l.onUploadProgress),(l.cancelToken||l.signal)&&(A=function(w){!f||(g(!w||w&&w.type?new d:w),f.abort(),f=null)},l.cancelToken&&l.cancelToken.subscribe(A),l.signal&&(l.signal.aborted?A():l.signal.addEventListener("abort",A))),L||(L=null);var W=c(k);if(W&&["http","https","file"].indexOf(W)===-1){g(new u("Unsupported protocol "+W+":",u.ERR_BAD_REQUEST,l));return}f.send(L)})},ee}var te,Le;function ur(){return Le||(Le=1,te=null),te}var p=h,Ue=Kt,Be=x,lr=at,cr=st,fr={"Content-Type":"application/x-www-form-urlencoded"};function Fe(e,r){!p.isUndefined(e)&&p.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function dr(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=Ie()),e}function mr(e,r,t){if(p.isString(e))try{return(r||JSON.parse)(e),p.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(e)}var j={transitional:lr,adapter:dr(),transformRequest:[function(r,t){if(Ue(t,"Accept"),Ue(t,"Content-Type"),p.isFormData(r)||p.isArrayBuffer(r)||p.isBuffer(r)||p.isStream(r)||p.isFile(r)||p.isBlob(r))return r;if(p.isArrayBufferView(r))return r.buffer;if(p.isURLSearchParams(r))return Fe(t,"application/x-www-form-urlencoded;charset=utf-8"),r.toString();var i=p.isObject(r),n=t&&t["Content-Type"],a;if((a=p.isFileList(r))||i&&n==="multipart/form-data"){var s=this.env&&this.env.FormData;return cr(a?{"files[]":r}:r,s&&new s)}else if(i||n==="application/json")return Fe(t,"application/json"),mr(r);return r}],transformResponse:[function(r){var t=this.transitional||j.transitional,i=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,a=!i&&this.responseType==="json";if(a||n&&p.isString(r)&&r.length)try{return JSON.parse(r)}catch(s){if(a)throw s.name==="SyntaxError"?Be.from(s,Be.ERR_BAD_RESPONSE,this,null,this.response):s}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ur()},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};p.forEach(["delete","get","head"],function(r){j.headers[r]={}});p.forEach(["post","put","patch"],function(r){j.headers[r]=p.merge(fr)});var Ee=j,pr=h,hr=Ee,vr=function(r,t,i){var n=this||hr;return pr.forEach(i,function(s){r=s.call(n,r,t)}),r},re,qe;function ut(){return qe||(qe=1,re=function(r){return!!(r&&r.__CANCEL__)}),re}var $e=h,ne=vr,_r=ut(),Er=Ee,wr=M();function ie(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new wr}var br=function(r){ie(r),r.headers=r.headers||{},r.data=ne.call(r,r.data,r.headers,r.transformRequest),r.headers=$e.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),$e.forEach(["delete","get","head","post","put","patch","common"],function(n){delete r.headers[n]});var t=r.adapter||Er.adapter;return t(r).then(function(n){return ie(r),n.data=ne.call(r,n.data,n.headers,r.transformResponse),n},function(n){return _r(n)||(ie(r),n&&n.response&&(n.response.data=ne.call(r,n.response.data,n.response.headers,r.transformResponse))),Promise.reject(n)})},_=h,lt=function(r,t){t=t||{};var i={};function n(c,m){return _.isPlainObject(c)&&_.isPlainObject(m)?_.merge(c,m):_.isPlainObject(m)?_.merge({},m):_.isArray(m)?m.slice():m}function a(c){if(_.isUndefined(t[c])){if(!_.isUndefined(r[c]))return n(void 0,r[c])}else return n(r[c],t[c])}function s(c){if(!_.isUndefined(t[c]))return n(void 0,t[c])}function o(c){if(_.isUndefined(t[c])){if(!_.isUndefined(r[c]))return n(void 0,r[c])}else return n(void 0,t[c])}function u(c){if(c in t)return n(r[c],t[c]);if(c in r)return n(void 0,r[c])}var d={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u};return _.forEach(Object.keys(r).concat(Object.keys(t)),function(m){var l=d[m]||a,E=l(m);_.isUndefined(E)&&l!==u||(i[m]=E)}),i},ae,He;function ct(){return He||(He=1,ae={version:"0.27.2"}),ae}var yr=ct().version,R=x,we={};["object","boolean","number","function","string","symbol"].forEach(function(e,r){we[e]=function(i){return typeof i===e||"a"+(r<1?"n ":" ")+e}});var Me={};we.transitional=function(r,t,i){function n(a,s){return"[Axios v"+yr+"] Transitional option '"+a+"'"+s+(i?". "+i:"")}return function(a,s,o){if(r===!1)throw new R(n(s," has been removed"+(t?" in "+t:"")),R.ERR_DEPRECATED);return t&&!Me[s]&&(Me[s]=!0,console.warn(n(s," has been deprecated since v"+t+" and will be removed in the near future"))),r?r(a,s,o):!0}};function Rr(e,r,t){if(typeof e!="object")throw new R("options must be an object",R.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),n=i.length;n-- >0;){var a=i[n],s=r[a];if(s){var o=e[a],u=o===void 0||s(o,a,e);if(u!==!0)throw new R("option "+a+" must be "+u,R.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new R("Unknown option "+a,R.ERR_BAD_OPTION)}}var Sr={assertOptions:Rr,validators:we},ft=h,Or=tt,je=Zt,Ve=br,V=lt,gr=ot,dt=Sr,D=dt.validators;function N(e){this.defaults=e,this.interceptors={request:new je,response:new je}}N.prototype.request=function(r,t){typeof r=="string"?(t=t||{},t.url=r):t=r||{},t=V(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var i=t.transitional;i!==void 0&&dt.assertOptions(i,{silentJSONParsing:D.transitional(D.boolean),forcedJSONParsing:D.transitional(D.boolean),clarifyTimeoutError:D.transitional(D.boolean)},!1);var n=[],a=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(t)===!1||(a=a&&E.synchronous,n.unshift(E.fulfilled,E.rejected))});var s=[];this.interceptors.response.forEach(function(E){s.push(E.fulfilled,E.rejected)});var o;if(!a){var u=[Ve,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(s),o=Promise.resolve(t);u.length;)o=o.then(u.shift(),u.shift());return o}for(var d=t;n.length;){var c=n.shift(),m=n.shift();try{d=c(d)}catch(l){m(l);break}}try{o=Ve(d)}catch(l){return Promise.reject(l)}for(;s.length;)o=o.then(s.shift(),s.shift());return o};N.prototype.getUri=function(r){r=V(this.defaults,r);var t=gr(r.baseURL,r.url);return Or(t,r.params,r.paramsSerializer)};ft.forEach(["delete","get","head","options"],function(r){N.prototype[r]=function(t,i){return this.request(V(i||{},{method:r,url:t,data:(i||{}).data}))}});ft.forEach(["post","put","patch"],function(r){function t(i){return function(a,s,o){return this.request(V(o||{},{method:r,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}N.prototype[r]=t(),N.prototype[r+"Form"]=t(!0)});var Ar=N,se,ke;function Cr(){if(ke)return se;ke=1;var e=M();function r(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var i;this.promise=new Promise(function(s){i=s});var n=this;this.promise.then(function(a){if(!!n._listeners){var s,o=n._listeners.length;for(s=0;s<o;s++)n._listeners[s](a);n._listeners=null}}),this.promise.then=function(a){var s,o=new Promise(function(u){n.subscribe(u),s=u}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s){n.reason||(n.reason=new e(s),i(n.reason))})}return r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]},r.prototype.unsubscribe=function(i){if(!!this._listeners){var n=this._listeners.indexOf(i);n!==-1&&this._listeners.splice(n,1)}},r.source=function(){var i,n=new r(function(s){i=s});return{token:n,cancel:i}},se=r,se}var oe,We;function Tr(){return We||(We=1,oe=function(r){return function(i){return r.apply(null,i)}}),oe}var ue,Je;function Dr(){if(Je)return ue;Je=1;var e=h;return ue=function(t){return e.isObject(t)&&t.isAxiosError===!0},ue}var ze=h,Pr=Ye,q=Ar,Nr=lt,xr=Ee;function mt(e){var r=new q(e),t=Pr(q.prototype.request,r);return ze.extend(t,q.prototype,r),ze.extend(t,r),t.create=function(n){return mt(Nr(e,n))},t}var v=mt(xr);v.Axios=q;v.CanceledError=M();v.CancelToken=Cr();v.isCancel=ut();v.VERSION=ct().version;v.toFormData=st;v.AxiosError=x;v.Cancel=v.CanceledError;v.all=function(r){return Promise.all(r)};v.spread=Tr();v.isAxiosError=Dr();de.exports=v;de.exports.default=v;(function(e){e.exports=de.exports})(Ke);const pt=At(Ke.exports),Ir={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.V__BASE_URL,[Lr,Ur]=[{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.V__ACCESS_API_ID,{BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.V__ACCESS_API_KEY],I=pt.create({baseURL:Ir,timeout:3e4});I.interceptors.request.use(e=>(e.auth={username:Lr,password:Ur},e),e=>(console.log(e),Promise.reject(e)));I.interceptors.response.use(e=>y(vt,null,function*(){return e.data&&parseInt(e.data.code)===0?e.data.data:Promise.reject(e.data?e.data:new Error)}),e=>(console.log("err"+e),Promise.reject(e)));const Br="/view_latest_telemetry_data",Fr="/list_devices",qr="/list_device_channels",$r="/view_devices",Hr="https://sensecap-statics.seeed.cn/refer/def/sensor.json";function Mr(e){return I({method:"GET",url:Br,params:e})}function jr(e){return I({method:"GET",url:Fr,params:e})}function Vr(e){return I({method:"POST",url:$r,data:{device_euis:e}})}function kr(e){return I({method:"POST",url:qr,data:{device_euis:e}})}function Wr(){return new Promise((e,r)=>{pt.get(Hr).then(t=>t.data?e(t.data):r(t)).catch(t=>r(t))})}function Jr(e,r=2){return y(this,null,function*(){if(!e)return null;try{let t=yield jr({group_uuid:e,device_type:r});return t&&t.length>0?t:Promise.reject(null)}catch(t){return Promise.reject(t)}})}function zr(e){return y(this,null,function*(){if(!(e&&e.length))return Promise.reject(null);try{return yield Vr(e)}catch(r){return Promise.reject(r)}})}function Gr(e){return y(this,null,function*(){if(!(e&&e.length))return Promise.reject(null);try{return yield kr(e)}catch(r){return Promise.reject(r)}})}function Zr(e,r,t){return y(this,null,function*(){var a,s;let i={device_eui:e};r!==void 0&&(i.channel_index=r),t!==void 0&&(i.measurement_id=t);let n=yield Mr(i);return n.length>0&&((s=(a=n[0])==null?void 0:a.points)==null?void 0:s.length)>0?n[0].points.map((u,d)=>{let c=Yr(u.measurement_id);return z(z({},u),c)}):Promise.reject(n)})}function ht(){return y(this,null,function*(){if(!window.Sensor_Measurement)try{let e=yield Wr();window.Sensor_Measurement=e}catch(e){console.log(e)}return Promise.resolve(window.Sensor_Measurement)})}ht();function Xr(e,r="en"){if(!!window.Sensor_Measurement)return window.Sensor_Measurement[r].sensorType[e]||null}function Ge(e,r="en"){if(!!window.Sensor_Measurement)return window.Sensor_Measurement[r].measurementId[e]}function Kr(e){if(!!window.Sensor_Measurement)return window.Sensor_Measurement.rg[e]}function Yr(e){let r=Ge(e,"zh-cn"),t=Ge(e,"en"),i=Kr(e);return{measurement_id:e,measurement_cn_name:r&&r.length?r[0]:"",measurement_en_name:t?t[0]:"",measurement_unit:t?t[1]:"",measurement_scope:i||""}}function Qr(e,r){!e||r&&e.addEventListener("progress",t=>{r(t.detail.totalProgress)})}function le(e,r,t){if(!(e&&r))return null;let i=["cameraTarget","cameraOrbit","fieldOfView","interpolationDecay"];t&&t.length>0&&(i=[...i,...t]);for(let n in r)i.includes(n)&&(e[n]=r[n])}function Ze(e){if(!!e)return e.getCameraTarget().toString()}function en(e){if(!!e)return e.getCameraOrbit().toString()}const tn=[{sid:"p_1660751408777",title:"\u7F51\u5173",position:"-0.5790568292604112m 0.45742846592292524m 0.7520557057995807m",normal:"",visible:"visible",fieldOfView:"15deg",cameraTarget:"-0.6181748474580369m 0.3715813283668526m 0.19175892752459942m",cameraOrbit:"0.22497699237522825rad 1.400572267092532rad 1.811122882564131m"},{sid:"p_1660751518378",title:"\u6570\u636E\u53EF\u89C6\u5316\u9762\u677F",position:"0.3528954147473016m 0.289036109013605m 0.026589425945702638m",normal:"",visible:"visible",fieldOfView:"15deg",cameraTarget:"0.354800849978557m 0.18913432209196224m 0.0621364981941463m",cameraOrbit:"-0.6902640871105837rad 1.6247826206236895rad 1.1100530889102265m"},{sid:"p_1660751671399",title:'S2102<span class="mini-title"> - \u5149\u5F3A\u4F20\u611F\u5668</span>',position:"0.12734116068835705m 0.23176811051059065m -0.036972184923827034m",normal:"",visible:"visible",fieldOfView:"18deg",cameraTarget:"0.40088018545222015m 0.26875671152812697m 0.7552200019512995m",cameraOrbit:"0.27942667714710195rad 1.5265555342310968rad -0.1696571414157483m",eui:"2CF7F1C042300109",deviceData:[{measurement_value:79369,measurement_id:"4099",time:"2022-09-13T04:35:49.528Z",measurement_cn_name:"\u5149\u7167",measurement_en_name:"Light Intensity",measurement_unit:"Lux",measurement_scope:"0~188000"}]},{sid:"p_1660752352582",title:'S2104<span class="mini-title"> - \u571F\u58E4\u6E7F\u5EA6\u548C\u6E29\u5EA6\u4F20\u611F\u5668</span>',position:"-0.277558851696286m 0.22814226796889386m -0.47512603091728256m",normal:"",visible:"visible",fieldOfView:"15deg",cameraTarget:"-0.24525277685305433m 0.048767655131992826m -0.5608368657327625m",cameraOrbit:"0.22010413712435417rad 0.6522762106445825rad 0.8561063231508765m",content:"",eui:"2CF7F1C042300223",deviceData:[{measurement_value:32,measurement_id:"4102",time:"2022-09-13T04:35:42.909Z",measurement_cn_name:"\u571F\u58E4\u6E29\u5EA6",measurement_en_name:"Soil Temperature",measurement_unit:"\u2103",measurement_scope:"-30~70"},{measurement_value:25.3,measurement_id:"4103",time:"2022-09-13T04:35:42.909Z",measurement_cn_name:"\u571F\u58E4\u6E7F\u5EA6",measurement_en_name:"Soil Moisture",measurement_unit:"%",measurement_scope:"0~100"}]},{sid:"p_1660752564850",title:'S2105<span class="mini-title"> - \u571F\u58E4\u6E7F\u5EA6\uFF0C\u6E29\u5EA6\u548CEC\u4F20\u611F\u5668</span>',position:"-0.7356990868393823m 0.26822493258577124m 0.06491725982264784m",normal:"",visible:"visible",fieldOfView:"21deg",cameraTarget:"-0.46348093009089064m 0.1376057675681672m 0.07796790313909116m",cameraOrbit:"-1.2370066963734203rad 1.539640332264485rad 1.3709734655530024m",eui:"2CF7F1C04230038A",deviceData:[{measurement_value:30.7,measurement_id:"4102",time:"2022-09-13T04:32:56.647Z",measurement_cn_name:"\u571F\u58E4\u6E29\u5EA6",measurement_en_name:"Soil Temperature",measurement_unit:"\u2103",measurement_scope:"-30~70"},{measurement_value:13.2,measurement_id:"4103",time:"2022-09-13T04:32:56.647Z",measurement_cn_name:"\u571F\u58E4\u6E7F\u5EA6",measurement_en_name:"Soil Moisture",measurement_unit:"%",measurement_scope:"0~100"},{measurement_value:0,measurement_id:"4108",time:"2022-09-13T04:32:56.647Z",measurement_cn_name:"\u571F\u58E4\u7535\u5BFC\u7387",measurement_en_name:"Electrical Conductivity",measurement_unit:"dS/m",measurement_scope:"0~23"}]},{sid:"p_1661971917046",title:'S2101<span class="mini-title"> - \u7A7A\u6C14\u6E29\u6E7F\u5EA6\u4F20\u611F\u5668</span>',position:"0.0077970770096655855m 0.2839807034048093m 0.3090838678023568m",normal:"",visible:"visible",fieldOfView:"15deg",cameraTarget:"-0.009167606032389718m 0.23044197227446708m 0.2969119124792745m",cameraOrbit:"9.465354752893225rad 1.4172556611599727rad 0.9282076784668868m",eui:"2CF7F1C04230006D",deviceData:[{measurement_value:35.86,measurement_id:"4097",time:"2022-09-13T04:31:15.137Z",measurement_cn_name:"\u7A7A\u6C14\u6E29\u5EA6",measurement_en_name:"Air Temperature",measurement_unit:"\u2103",measurement_scope:"-40~90"},{measurement_value:35.61,measurement_id:"4098",time:"2022-09-13T04:31:15.137Z",measurement_cn_name:"\u7A7A\u6C14\u6E7F\u5EA6",measurement_en_name:"Air Humidity",measurement_unit:"% RH",measurement_scope:"0~100"}]},{sid:"p_1662976525117",title:'S2103<span class="mini-title"> - \u4E8C\u6C27\u5316\u78B3\uFF0C\u6E29\u5EA6\u548C\u6E7F\u5EA6\u4F20\u611F\u5668</span>',position:"0.016787793733708006m 0.23781715881512028m -0.4064723578603153m",normal:"",visible:"visible",fieldOfView:"15deg",cameraTarget:"0.016787793733708006m 0.23781715881512028m -0.4064723578603153m",cameraOrbit:"-0.14728215864647282rad 1.4632001389150724rad 1.2091456036364192m",eui:"2CF7F1C141600050",deviceData:[{measurement_value:36.69,measurement_id:"4097",time:"2022-09-13T04:33:49.121Z",measurement_cn_name:"\u7A7A\u6C14\u6E29\u5EA6",measurement_en_name:"Air Temperature",measurement_unit:"\u2103",measurement_scope:"-40~90"},{measurement_value:33.48,measurement_id:"4098",time:"2022-09-13T04:33:49.121Z",measurement_cn_name:"\u7A7A\u6C14\u6E7F\u5EA6",measurement_en_name:"Air Humidity",measurement_unit:"% RH",measurement_scope:"0~100"},{measurement_value:427,measurement_id:"4100",time:"2022-09-13T04:33:49.121Z",measurement_cn_name:"\u4E8C\u6C27\u5316\u78B3",measurement_en_name:"CO2",measurement_unit:"ppm",measurement_scope:"0~10000"}]}],Xe={cameraTarget:"0.008893345304666483m 0.05014994082867047m 0.08660083089716474m",cameraOrbit:"-2.261679864164347rad 1.3212640007451548rad 4.431181454891983m",fieldOfView:"40deg"},rn=!1,nn=!1,an=!1,sn=10*1e3,ce=820;function on(){const e={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0}.V__GROUP_UUID;new Vue({components:{HotspotPanel:gt},data(){return{visibleConfigPanel:rn,visibleConfigJSON:nn,visibleHotspotPanel:an,visibleHotspots:!1,visibleSideBtn:!0,enabledConfig:!1,enableAdd:!1,progress:0,progressText:"",enableControl:!1,activeSpot:-1,interpolationDecay:80,enableInteractionPrompt:!1,enableAutoRotate:!0,enablePan:!0,enableCameraControl:!0,disableZoom:!1,modelViewId:"model-viewer-comp",devices:null,hotspots:tn,screenWidth:0}},mounted(){var t=this;let i=document.getElementById(t.modelViewId);Qr(i,a=>{t.progress=a});const n=setInterval(()=>{t.progressText=(t.progress*100).toFixed(0)+"%",t.progress===1&&setTimeout(()=>{t.visibleHotspots=!0,t.$nextTick(function(){setTimeout(()=>{le(i,Xe)},300)}),clearInterval(n)},500)},50);t.bindAddHotspot(),t.bindResetActiveSpot(),window.onresize=()=>{this.setModelAttrByScreen()}},created(){this.initDevices(),this.setModelAttrByScreen()},computed:{activeHotspotData(){return this.hotspots[this.activeSpot]||null}},watch:{activeHotspotData:{handler(t){!t||(this.$forceUpdate(),this.$nextTick(()=>{let i=document.getElementById(this.modelViewId),{name:n,position:a,normal:s}=t;i.updateHotspot({name,position:a,normal:s})}))},deep:!0}},methods:{setModelAttrByScreen(){this.screenWidth=document.documentElement.clientWidth;let t=this.screenWidth<ce;this.visibleSideBtn=!t;let i=this.enableAutoRotate;if(this.enableAutoRotate=t,i!==this.enableAutoRotate){let n=document.getElementById(this.modelViewId);if(!n)return;le(n,Xe),n.resetTurntableRotation()}},handleClickHotspot(t,i,n){t.stopPropagation(),!(this.screenWidth<ce)&&this.chooseActiveSpot(i,n)},togglePanel(){if(this.screenWidth<ce){this.visibleHotspotPanel=!1;return}this.visibleHotspotPanel=!this.visibleHotspotPanel},chooseActiveSpot(t,i){var n=this;if(n.activeSpot=i,n.enableAdd=!1,i===-1)return;t.eui&&this.updateDeviceData(t.eui);let a=document.getElementById(n.modelViewId);n.enabledConfig&&n.visibleConfigPanel?(t.cameraTarget=Ze(a),t.cameraOrbit=en(a),n.updateHotspot(i,t)):(le(a,t),a.interpolationDecay=150,setTimeout(function(){a.interpolationDecay=n.interpolationDecay},5e3))},bindResetActiveSpot(){var t=this;document.getElementById(t.modelViewId).addEventListener("click",function(n){n.stopPropagation(),t.activeSpot=-1})},updateHotspot(t,i){if(i===null){this.hotspots.splice(t,1),t===this.activeSpot&&(this.activeSpot="",this.enabledConfig=!1);return}t===void 0?this.hotspots.push(i):this.hotspots.splice(t,1,i),this.$nextTick(()=>{document.getElementById(this.modelViewId).updateHotspot({name:i.sid,position:i.position,normal:i.normal})})},formatDeviceTitle(t){return`${t.device_name}<span class="mini-title"> - ${t.sensor_name}</span>`},bindDevice(){if(!this.activeHotspotData)return;let t=this.activeHotspotData,i=this.activeHotspotData.eui,n=this.devices.find(a=>a.eui===i);t.title=this.formatDeviceTitle(n),this.updateDeviceData(i)},bindAddHotspot(){let t=this,i=document.getElementById(t.modelViewId);i.addEventListener("click",function(n){if(!t.enableAdd||t.enabledConfig||/hotspot/i.test(n.target.className))return;let a=new Date().getTime(),[s,o,u,d]=[`p_${a}`,`p_${a}`,Ze(i),""];t.updateHotspot(void 0,{sid:s,title:o,position:u,normal:d,visible:"visible",fieldOfView:"15deg"}),t.enableAdd=!1})},initDevices(){return y(this,null,function*(){let t={},i,n,a,s;try{yield ht(),i=yield Jr(e),n=i.map(u=>u.device_eui),a=yield zr(n),s=yield Gr(n)}catch(u){console.log(u);return}a.forEach((u,d)=>{t[u.device_eui]=u});let o=s.map((u,d)=>{let{device_eui:c,channels:m}=u;return t[c]||(t[c]={}),m.length>0&&(t[c].eui=c,t[c].channel=m[0],t[c].sensor_name=Xr(t[c].channel.sensor_type)),t[c]});this.devices=o})},updateDeviceData(t){return y(this,null,function*(){if(!this.devices)return;let i=this.devices.findIndex(o=>o.eui===t);if(i===-1)return;let n=this.devices[i],a=new Date().getTime();if(n.lastTriggleUpdate&&a-n.lastTriggleUpdate<=sn)return;let s=yield Zr(t);n.lastData=s,n.lastTriggleUpdate=new Date().getTime(),this.devices.splice(i,1,n),this.hotspots.forEach(o=>{o.eui===t&&(o.deviceData=s)})})}}}).$mount("#app")}on()});export default un();
