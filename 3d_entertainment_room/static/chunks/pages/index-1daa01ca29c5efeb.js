(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return __webpack_require__(7626)}])},7626:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Home}});var jsx_runtime=__webpack_require__(5893),head=__webpack_require__(9008),head_default=__webpack_require__.n(head),react=__webpack_require__(7294),esm=__webpack_require__(3136),components_LoadingOverlay=function(){return(0,jsx_runtime.jsxs)("div",{className:"loadingState",children:[(0,jsx_runtime.jsx)("div",{className:"loading-wrapper",children:(0,jsx_runtime.jsxs)("div",{id:"loadingCountDownWrapper",children:[(0,jsx_runtime.jsx)("h1",{id:"loadingCountDown",children:"0%"}),(0,jsx_runtime.jsx)("small",{children:(0,jsx_runtime.jsx)(esm.RL,{height:"25",width:"25",radius:"48",color:"#FFFFFF",ariaLabel:"watch-loading",visible:!0})})]})}),(0,jsx_runtime.jsxs)("div",{id:"loadingFadeIn",children:[(0,jsx_runtime.jsx)("span",{}),(0,jsx_runtime.jsx)("span",{}),(0,jsx_runtime.jsx)("span",{}),(0,jsx_runtime.jsx)("span",{})]})]})},styled=__webpack_require__(7790),Switch=__webpack_require__(4286);let getIsDayTime=()=>!(new Date().getHours()>=19),MaterialUISwitch=(0,styled.ZP)(Switch.Z)(param=>{let{theme}=param;return{width:62,height:30,padding:7,"& .MuiSwitch-switchBase":{margin:1,padding:0,top:1,left:9,transform:"translateX(-7px)","&.Mui-checked":{color:"#fff",transform:"translateX(22px)","& .MuiSwitch-thumb:before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z"/></svg>\')')},"& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===theme.palette.mode?"#8796A5":"#aab4be"}}},"& .MuiSwitch-thumb":{backgroundColor:"dark"===theme.palette.mode?"#003892":"#001e3c",width:25,height:25,"&:before":{content:"''",position:"absolute",width:"100%",height:"100%",left:0,top:0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 20 20"><path fill="'.concat(encodeURIComponent("#fff"),'" d="M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z"/></svg>\')')}},"& .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===theme.palette.mode?"#8796A5":"#aab4be",borderRadius:10}}}),isDayTime=getIsDayTime();function MuiCustomizedSwitch(){let[value,setValue]=(0,react.useState)(isDayTime),hanldeOnChange=e=>{setValue(!value)};return(0,jsx_runtime.jsx)("div",{className:"mui-switch-wrapper",children:(0,jsx_runtime.jsx)(MaterialUISwitch,{sx:{m:1},id:"currentTime",value:value,onChange:hanldeOnChange})})}var AudioComponent=function(param){let{height="100",width="100",color="#ffffff",ariaLabel="audio-loading",wrapperStyle={},wrapperClass,visible=!0,animate=!0}=param;return(0,jsx_runtime.jsx)("div",{style:{display:visible?"flex":"none",...wrapperStyle},className:wrapperClass,"data-testid":"audio-loading","aria-label":ariaLabel,children:(0,jsx_runtime.jsx)("svg",{height:"".concat(height),width:"".concat(width),fill:color,viewBox:"0 0 55 80",xmlns:"http://www.w3.org/2000/svg","data-testid":"audio-svg",children:(0,jsx_runtime.jsxs)("g",{transform:"matrix(1 0 0 -1 0 80)",children:[(0,jsx_runtime.jsx)("rect",{fill:"#FFA500",width:"10",height:"20",rx:"3",children:animate&&(0,jsx_runtime.jsx)("animate",{attributeName:"height",begin:"0s",dur:"4.3s",values:"20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20",calcMode:"linear",repeatCount:"indefinite"})}),(0,jsx_runtime.jsx)("rect",{fill:"#808000",x:"15",width:"10",height:"80",rx:"3",children:animate&&(0,jsx_runtime.jsx)("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"80;55;33;5;75;23;73;33;12;14;60;80",calcMode:"linear",repeatCount:"indefinite"})}),(0,jsx_runtime.jsx)("rect",{fill:"#FFFDD0",x:"30",width:"10",height:"50",rx:"3",children:animate&&(0,jsx_runtime.jsx)("animate",{attributeName:"height",begin:"0s",dur:"1.4s",values:"50;34;78;23;56;23;34;76;80;54;21;50",calcMode:"linear",repeatCount:"indefinite"})}),(0,jsx_runtime.jsx)("rect",{fill:"#ff4122",x:"45",width:"10",height:"30",rx:"3",children:animate&&(0,jsx_runtime.jsx)("animate",{attributeName:"height",begin:"0s",dur:"2s",values:"30;45;13;80;56;72;45;76;34;23;67;30",calcMode:"linear",repeatCount:"indefinite"})})]})})})},PauseCircleOutline=__webpack_require__(9417),PlayCircleOutline=__webpack_require__(1774),components_MusicPlayIcons=function(param){let{togglePlay}=param,[isMusicPlaying,setIsMusicPlaying]=(0,react.useState)(!0);return(0,react.useEffect)(()=>{let musicPlayWrapper=document.querySelector(".musicPlayWrapper"),togglePlayState=()=>{setIsMusicPlaying(!isMusicPlaying),togglePlay(!isMusicPlaying)};return musicPlayWrapper.addEventListener("click",togglePlayState),()=>musicPlayWrapper.removeEventListener("click",togglePlayState)},[isMusicPlaying,togglePlay]),(0,jsx_runtime.jsxs)("div",{title:"Pause Music",className:"musicPlayWrapper",children:[(0,jsx_runtime.jsx)(AudioComponent,{height:"50",width:"50",color:"#FFFFFF",visible:!0,animate:isMusicPlaying}),(0,jsx_runtime.jsx)("div",{className:"musicPlayControlIcons",children:isMusicPlaying?(0,jsx_runtime.jsx)(PauseCircleOutline.Z,{style:{color:"white"},className:"pause"}):(0,jsx_runtime.jsx)(PlayCircleOutline.Z,{style:{color:"white"},className:"play"})})]})},three_module=__webpack_require__(9477);class EventEmitter{on(_names,callback){if(void 0===_names||""===_names)return console.warn("wrong names"),!1;if(void 0===callback)return console.warn("wrong callback"),!1;let names=this.resolveNames(_names);return names.forEach(_name=>{let name=this.resolveName(_name);this.callbacks[name.namespace]instanceof Object||(this.callbacks[name.namespace]={}),this.callbacks[name.namespace][name.value]instanceof Array||(this.callbacks[name.namespace][name.value]=[]),this.callbacks[name.namespace][name.value].push(callback)}),this}off(_names){if(void 0===_names||""===_names)return console.warn("wrong name"),!1;let names=this.resolveNames(_names);return names.forEach(_name=>{let name=this.resolveName(_name);if("base"!==name.namespace&&""===name.value)delete this.callbacks[name.namespace];else if("base"===name.namespace)for(let namespace in this.callbacks)this.callbacks[namespace]instanceof Object&&this.callbacks[namespace][name.value]instanceof Array&&(delete this.callbacks[namespace][name.value],0===Object.keys(this.callbacks[namespace]).length&&delete this.callbacks[namespace]);else this.callbacks[name.namespace]instanceof Object&&this.callbacks[name.namespace][name.value]instanceof Array&&(delete this.callbacks[name.namespace][name.value],0===Object.keys(this.callbacks[name.namespace]).length&&delete this.callbacks[name.namespace])}),this}trigger(_name,_args){if(void 0===_name||""===_name)return console.warn("wrong name"),!1;let finalResult=null,result=null,args=_args instanceof Array?_args:[],nameArray=this.resolveNames(_name),name=this.resolveName(nameArray[0]);if("base"===name.namespace)for(let namespace in this.callbacks)this.callbacks[namespace]instanceof Object&&this.callbacks[namespace][name.value]instanceof Array&&this.callbacks[namespace][name.value].forEach(callback=>{result=callback.apply(this,args),void 0===finalResult&&(finalResult=result)});else if(this.callbacks[name.namespace]instanceof Object){if(""===name.value)return console.warn("wrong name"),this;this.callbacks[name.namespace][name.value].forEach(callback=>{result=callback.apply(this,args),void 0===finalResult&&(finalResult=result)})}return finalResult}resolveNames(_names){let names=_names;return(names=(names=names.replace(/[^a-zA-Z0-9 ,/.]/g,"")).replace(/[,/]+/g," ")).split(" ")}resolveName(name){let newName={},parts=name.split(".");return newName.original=name,newName.value=parts[0],newName.namespace="base",parts.length>1&&""!==parts[1]&&(newName.namespace=parts[1]),newName}constructor(){this.callbacks={},this.callbacks={},this.callbacks.base={}}}class Sizes extends EventEmitter{constructor(canvas,options){super(),this.resizeEventCallback=()=>{if(this.useWindowSizeOnResize)this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.width=this.canvas.width,this.height=this.canvas.height,this.smallestSide=Math.min(this.width,this.height),this.lagestSide=Math.max(this.width,this.height);else{var ref,ref1;this.canvas.width=(null===(ref=this.canvas.parentElement)||void 0===ref?void 0:ref.getBoundingClientRect().width)||this.canvas.width,this.canvas.height=(null===(ref1=this.canvas.parentElement)||void 0===ref1?void 0:ref1.getBoundingClientRect().height)||this.canvas.height,this.width=this.canvas.width,this.height=this.canvas.height,this.smallestSide=Math.min(this.width,this.height),this.lagestSide=Math.max(this.width,this.height)}this.pixelRatio=Math.min(window.devicePixelRatio,2),window.innerWidth>768?this.isMobileScreen=!1:this.isMobileScreen=!0,this.trigger("resize")},this.destroy=()=>{window.removeEventListener("resize",this.resizeEventCallback),this.off("resize")},this.canvas=canvas,this.useWindowSizeOnResize=options.useWindowSizeOnResize,this.width=canvas.getBoundingClientRect().width,this.height=canvas.getBoundingClientRect().height,this.smallestSide=Math.min(this.width,this.height),this.lagestSide=Math.max(this.width,this.height),this.pixelRatio=Math.min(window.devicePixelRatio,2),window.innerWidth>768?this.isMobileScreen=!1:this.isMobileScreen=!0,window.addEventListener("resize",this.resizeEventCallback)}}class Time extends EventEmitter{tick(){let currentTime=Date.now();this.deltaTime=currentTime-this.currentTime,this.currentTime=currentTime,this.elaspedTime=currentTime-this.start,this.trigger("tick"),window.requestAnimationFrame(this.tick.bind(this))}destroy(){this.off("tick")}constructor(){super(),this.start=Date.now(),this.currentTime=this.start,this.elaspedTime=0,this.deltaTime=16,this.tick()}}class Camera{setCameraInstance(){this.cameraInstance=new three_module.cPb(this.camera3dSpace.fov,this.sizes.width/this.sizes.height),this.cameraInstance.position.set(this.camera3dSpace.position.x,this.camera3dSpace.position.y,this.camera3dSpace.position.z),this.cameraInstance.rotation.set(this.camera3dSpace.rotation.x,this.camera3dSpace.rotation.y,this.camera3dSpace.rotation.z),this.cameraInstance.scale.set(this.camera3dSpace.scale.x,this.camera3dSpace.scale.y,this.camera3dSpace.scale.z),this.scene.add(this.cameraInstance)}addDebugUi(){if(this.debugUI.isActive){let cameraFolder=this.debugUI.ui.addFolder({title:"camera",expanded:!1}),PARAMS={camera:{x:0,y:20,z:-10}};cameraFolder.addInput(PARAMS,"camera").on("change",()=>{let{x,y,z}=PARAMS.camera;this.cameraInstance.position.set(x,y,z)})}}resize(){this.cameraInstance.aspect=this.sizes.width/this.sizes.height,this.cameraInstance.updateProjectionMatrix()}update(){}destroy(){}constructor(experience,camera3dSpace){this.experience=experience,this.sizes=experience.sizes,this.scene=experience.scene,this.canvas=experience.canvas,this.camera3dSpace=camera3dSpace,this.debugUI=experience.debugUI,this.setCameraInstance(),this.addDebugUi()}}class Renderer{setRendererInstance(){this.rendererInstance=new three_module.CP7({canvas:this.canvas,antialias:!0}),this.rendererInstance.setSize(this.sizes.width,this.sizes.height),this.rendererInstance.setPixelRatio(this.sizes.pixelRatio)}resize(){this.rendererInstance.setSize(this.sizes.width,this.sizes.height),this.rendererInstance.setPixelRatio(this.sizes.pixelRatio)}update(){this.rendererInstance.render(this.scene,this.camera.cameraInstance)}destroy(){this.rendererInstance.dispose()}constructor(experience){this.experience=experience,this.canvas=experience.canvas,this.scene=experience.scene,this.camera=experience.camera,this.sizes=experience.sizes,this.setRendererInstance()}}var tweakpane=__webpack_require__(6498);class DebugUI{destroy(){this.isActive&&this.ui.dispose()}constructor(){this.debugFolder={},this.isActive="#debug"===window.location.hash,this.isActive&&(this.ui=new tweakpane.Pane({title:"Tweak Values"}))}}var GLTFLoader=__webpack_require__(1217),DRACOLoader=__webpack_require__(2854);class ResourcesLoader extends EventEmitter{loadSources(sources,loadingManager){this.toLoad=sources.length,this.sources=[...this.sources,...sources],sources.forEach(source=>{source.groupName&&(this.groupedItems[source.groupName]=[])}),this.textureLoader=new three_module.dpR(loadingManager),this.cubeTextureLoader=new three_module.cBK(loadingManager),this.gltfLoader=new GLTFLoader.E(loadingManager),sources.forEach(source=>{if("texture"===source.type)this.textureLoader.load(source.path,texture=>{texture.name="texture",this.sourceLoaded(source,texture)});else if("cubeTexture"===source.type)this.cubeTextureLoader.load(source.path,cubeTexture=>{cubeTexture.name="cubeTexture",this.sourceLoaded(source,cubeTexture)});else if("gltfModel"===source.type){if(source.useDraco){let dracoLoader=new DRACOLoader._;dracoLoader.setDecoderPath("libs/webGL/draco/"),this.gltfLoader.setDRACOLoader(dracoLoader)}this.gltfLoader.load(source.path,gltf=>{this.sourceLoaded(source,gltf)})}})}sourceLoaded(source,file){this.items[source.name]=file,this.loaded++,this.trigger("".concat(source.name,"Ready")),source.groupName&&(this.groupedItems[source.groupName].push({[source.name]:file,name:source.name,type:source.type}),this.groupedItems[source.groupName].length===source.totalGroupMember&&this.trigger("".concat(source.groupName,"Ready"))),this.loaded===this.toLoad&&this.trigger("resouceReady")}destroy(){for(let key in this.groupedItems)if(Object.prototype.hasOwnProperty.call(this.groupedItems,key)){let textureArray=this.groupedItems[key];textureArray.forEach(fileObj=>{if("texture"===fileObj.type||"cubeTexture"===fileObj.type){let file=fileObj[fileObj.name];"function"==typeof file.dispose&&file.dispose()}else if("gltfModel"===fileObj.type){let file1=fileObj[fileObj.name];file1.scene.traverse(child=>{if(child instanceof three_module.Kj0){for(let key in"function"==typeof child.geometry.dispose&&child.geometry.dispose(),child.material)if(Object.prototype.hasOwnProperty.call(child.material,key)){let item=child.material[key];item&&"function"==typeof item.dispose&&item.dispose()}}})}}),this.off("".concat(key,"Ready"))}for(let key1 in this.items)if(Object.prototype.hasOwnProperty.call(this.items,key1)){let file=this.items[key1];file instanceof three_module.xEZ||file instanceof three_module.BtG?"function"==typeof file.dispose&&file.dispose():file.scene.traverse(child=>{if(child instanceof three_module.Kj0){for(let key in"function"==typeof child.geometry.dispose&&child.geometry.dispose(),child.material)if(Object.prototype.hasOwnProperty.call(child.material,key)){let item=child.material[key];item&&"function"==typeof item.dispose&&item.dispose()}}}),this.off("".concat(key1,"Ready"))}}constructor(sources){super(),this.loaded=0,this.sources=[],this.items={},this.groupedItems={},sources&&this.loadSources(sources)}}var cjs=__webpack_require__(9108);class PerformanceStats{activate(){this.active=!0,document.body.appendChild(this.instance.dom)}deactivate(){this.active=!1,document.body.removeChild(this.instance.dom)}setRenderPanel(_context){this.render={},this.render.context=_context,this.render.extension=this.render.context.getExtension("EXT_disjoint_timer_query_webgl2");let webGL2="undefined"!=typeof WebGL2RenderingContext&&_context instanceof WebGL2RenderingContext;webGL2&&this.render.extension||this.deactivate()}beforeRender(){if(!this.active)return;this.queryCreated=!1;let queryResultAvailable=!1;if(this.render.query){queryResultAvailable=this.render.context.getQueryParameter(this.render.query,this.render.context.QUERY_RESULT_AVAILABLE);let disjoint=this.render.context.getParameter(this.render.extension.GPU_DISJOINT_EXT);if(queryResultAvailable&&!disjoint){let elapsedNanos=this.render.context.getQueryParameter(this.render.query,this.render.context.QUERY_RESULT),panelValue=Math.min(elapsedNanos/1e3/1e3,this.max);panelValue===this.max&&this.ignoreMaxed||this.render.panel.update(panelValue,this.max)}}(queryResultAvailable||!this.render.query)&&(this.queryCreated=!0,this.render.query=this.render.context.createQuery(),this.render.context.beginQuery(this.render.extension.TIME_ELAPSED_EXT,this.render.query))}afterRender(){this.active&&this.queryCreated&&this.render.context.endQuery(this.render.extension.TIME_ELAPSED_EXT)}update(){this.active&&this.instance.update()}destroy(){this.deactivate()}constructor(config){this.instance=new cjs.Stats,this.instance.showPanel(3),this.active=!1,this.max=40,this.ignoreMaxed=!0,config.showPerformance&&this.activate()}}class DefaultExperience{resize(){this.camera.resize(),this.renderer.resize()}destroyDefaultExperience(){this.renderer.destroy(),this.debugUI.destroy(),this.camera.destroy(),this.sizes.destroy(),this.time.destroy(),this.performanceStats.destroy(),this.resourcesLoader&&this.resourcesLoader.destroy(),this.scene.traverse(child=>{if("function"==typeof child.dispose&&child.dispose(),child instanceof three_module.Kj0){for(let key in"function"==typeof child.geometry.dispose&&child.geometry.dispose(),child.material)if(Object.hasOwn(child.material,key)){let item=child.material[key];item&&"function"==typeof item.dispose&&item.dispose()}}})}constructor(canvas,camera3dSpace,config,sources){this.debugUI=new DebugUI,this.canvas=canvas,this.sizes=new Sizes(canvas,config),this.time=new Time,this.scene=new three_module.xsS,this.camera=new Camera(this,camera3dSpace),this.renderer=new Renderer(this),this.performanceStats=new PerformanceStats(config),this.resourcesLoader=new ResourcesLoader(sources),this.sizes.on("resize",this.resize.bind(this))}}var normalize_wheel=__webpack_require__(2796),normalize_wheel_default=__webpack_require__.n(normalize_wheel);class Navigation{setView(){let sphericalCoords=new three_module.$V(2.8,.35*Math.PI,-.27*Math.PI),targetValue=new three_module.Pa4(0,.2,0);this.view={spherical:{value:sphericalCoords.clone(),smoothed:sphericalCoords.clone(),smoothing:.002},drag:{delta:{x:0,y:0},previous:{x:0,y:0},sensitivity:1,alternative:!1,minXdrag:-(Math.PI/2),maxXdrag:Math.PI/23,minYdrag:Math.PI/50,maxYdrag:Math.PI/2.2},zoom:{value:0,smoothed:0,smoothing:.002,sensitivity:.001,maxDistance:3.6,minDistance:1},target:{value:targetValue.clone(),smoothed:targetValue.clone(),smoothing:.002,limits:{x:{min:-(Math.PI/5),max:Math.PI/10},y:{min:Math.PI/30,max:Math.PI/3},z:{min:-(Math.PI/5),max:Math.PI/10}}},onContextMenu:e=>e.preventDefault(),onMouseDown:e=>{this.view.drag.alternative=2===e.button||e.ctrlKey||e.shiftKey,this.view.down(e.clientX,e.clientY),window.addEventListener("mouseup",this.view.onMouseUp),window.addEventListener("mousemove",this.view.onMouseMove)},onMouseUp:e=>{this.view.up(),window.removeEventListener("mouseup",this.view.onMouseUp),window.removeEventListener("mousemove",this.view.onMouseMove)},onMouseMove:e=>{this.view.move(e.clientX,e.clientY)},onMouseWheel:e=>{let normalized=normalize_wheel_default()(e);this.view.zoomIn(normalized.pixelY)},onTouchStart:e=>{this.view.down(e.touches[0].clientX,e.touches[0].clientY),window.addEventListener("touchend",this.view.onTouchEnd),window.addEventListener("touchmove",this.view.onTouchMove)},onTouchEnd:e=>{this.view.up(),window.removeEventListener("touchend",this.view.onTouchEnd),window.removeEventListener("touchmove",this.view.onTouchMove)},onTouchMove:e=>{this.view.move(e.touches[0].clientX,e.touches[0].clientY)},move:(x,y)=>{this.view.drag.delta.x+=x-this.view.drag.previous.x,this.view.drag.delta.y+=y-this.view.drag.previous.y,this.view.drag.previous.x=x,this.view.drag.previous.y=y},down:(x,y)=>{this.view.drag.previous.x=x,this.view.drag.previous.y=y},zoomIn:delta=>{this.view.zoom.value=delta*this.view.zoom.sensitivity},up:()=>{this.view.drag.alternative=!1}},window.addEventListener("mousedown",this.view.onMouseDown),window.addEventListener("wheel",this.view.onMouseWheel),window.addEventListener("contextmenu",this.view.onContextMenu),window.addEventListener("touchstart",this.view.onTouchStart)}update(){if(this.view.drag.alternative){new three_module.Pa4;let up=new three_module.Pa4(0,1,0),right=new three_module.Pa4(-1,0,0);up.applyQuaternion(this.camera.quaternion),right.applyQuaternion(this.camera.quaternion),up.multiplyScalar(.001*this.view.drag.delta.y),right.multiplyScalar(.001*this.view.drag.delta.x),this.view.target.value.add(up),this.view.target.value.add(right)}else this.view.spherical.value.radius+=this.view.zoom.value,this.view.spherical.value.theta-=this.view.drag.delta.x*(this.view.drag.sensitivity/this.sizes.smallestSide),this.view.spherical.value.phi-=this.view.drag.delta.y*(this.view.drag.sensitivity/this.sizes.smallestSide);this.view.drag.delta.x=0,this.view.drag.delta.y=0,this.view.zoom.value=0,this.view.spherical.value.theta=Math.min(Math.max(this.view.drag.minXdrag,this.view.spherical.value.theta),this.view.drag.maxXdrag),this.view.spherical.value.phi=Math.min(Math.max(this.view.drag.minYdrag,this.view.spherical.value.phi),this.view.drag.maxYdrag),this.view.spherical.value.radius=Math.min(Math.max(this.view.zoom.minDistance,this.view.spherical.value.radius),this.view.zoom.maxDistance),this.view.target.value.x=Math.min(Math.max(this.view.target.limits.x.min,this.view.target.value.x),this.view.target.limits.x.max),this.view.target.value.y=Math.min(Math.max(this.view.target.limits.y.min,this.view.target.value.y),this.view.target.limits.y.max),this.view.target.value.z=Math.min(Math.max(this.view.target.limits.z.min,this.view.target.value.z),this.view.target.limits.z.max),this.view.spherical.smoothed.phi+=(this.view.spherical.value.phi-this.view.spherical.smoothed.phi)*this.view.spherical.smoothing*this.time.deltaTime,this.view.spherical.smoothed.theta+=(this.view.spherical.value.theta-this.view.spherical.smoothed.theta)*this.view.spherical.smoothing*this.time.deltaTime,this.view.spherical.smoothed.radius+=(this.view.spherical.value.radius-this.view.spherical.smoothed.radius)*this.view.zoom.smoothing*this.time.deltaTime,this.view.target.smoothed.x+=(this.view.target.value.x-this.view.target.smoothed.x)*this.view.target.smoothing*this.time.deltaTime,this.view.target.smoothed.y+=(this.view.target.value.y-this.view.target.smoothed.y)*this.view.target.smoothing*this.time.deltaTime,this.view.target.smoothed.z+=(this.view.target.value.z-this.view.target.smoothed.z)*this.view.target.smoothing*this.time.deltaTime;let viewPosition=new three_module.Pa4;viewPosition.setFromSpherical(this.view.spherical.smoothed),viewPosition.add(this.view.target.smoothed),this.camera.position.copy(viewPosition),this.camera.lookAt(this.view.target.smoothed)}destroy(){window.removeEventListener("mousedown",this.view.onMouseDown),window.removeEventListener("wheel",this.view.onMouseWheel),window.removeEventListener("contextmenu",this.view.onContextMenu),window.removeEventListener("touchstart",this.view.onTouchStart)}constructor(experience){this.experience=experience,this.camera=experience.camera.cameraInstance,this.sizes=experience.sizes,this.time=experience.time,this.setView()}}class GoogleLedLights{setUpLights(){if(this.texture&&this.isMeshComplete){let colors=["#000ce5","#f50909","#dde50b","#29e806"];this.leds.forEach((led,i)=>{let material=new three_module.vBJ({color:colors[i],transparent:!0,alphaMap:this.texture});led.mesh.material=material,led.color=colors[i]}),this.addDebugUI()}}addDebugUI(){if(this.debugUI.isActive){let googleLedColors=this.debugUI.ui.addFolder({title:"GoogleLedColors",expanded:!1}),PARAMS={Led0:"",Led1:"",Led2:"",Led3:""};this.leds.forEach((led,i)=>{PARAMS["Led".concat(i)]=null==led?void 0:led.color,googleLedColors.addInput(PARAMS,"Led".concat(i)).on("change",()=>{led.mesh.material.color.set(PARAMS["Led".concat(i)])})})}}update(){this.isMeshComplete&&this.texture&&this.leds.forEach((led,i)=>{led.mesh.material.opacity=.5*Math.sin(.005*this.time.elaspedTime-i)+.5})}constructor(experience){var ref;this.experience=experience,this.debugUI=experience.debugUI,this.time=experience.time,this.loadedResource=null===(ref=experience.resourcesLoader)||void 0===ref?void 0:ref.items,this.isMeshComplete=!1,this.leds=[,,,,].fill(null).map(()=>({mesh:null,color:""})),this.experience.resourcesLoader.on("googleLedLightTextureReady",()=>{this.texture=this.loadedResource.googleLedLightTexture,this.setUpLights()})}}class EmissionLights{setupLights(){if(this.isMeshComplete){let ps4ControllerEmissionLight=new three_module.vBJ({color:"#0A00FF",transparent:!0}),ps4ControllerCover=new three_module.vBJ({color:"#837eff"}),ringEmissionLight=new three_module.vBJ({color:"#FFFBF8"}),scarletGreenEmissionLight=new three_module.vBJ({color:"#1AE700"}),scarletRedEmissionLight=new three_module.vBJ({color:"#E70300"});this.lights.ps4ControllerLight.material=ps4ControllerEmissionLight,this.lights.ps4ControllerLightCover.material=ps4ControllerCover,this.lights.ringLight.material=ringEmissionLight,this.lights["scarletLight-green"].material=scarletGreenEmissionLight,this.lights["scarletLight-red"].material=scarletRedEmissionLight}}update(){this.isMeshComplete&&(this.lights.ps4ControllerLight.material.opacity=Math.sin(.005*this.time.elaspedTime))}constructor(experience){var ref;this.lights={},this.time=experience.time,this.loadedResource=null===(ref=experience.resourcesLoader)||void 0===ref?void 0:ref.items,this.debugUI=experience.debugUI,this.isMeshComplete=!1}}class CoffeSteam{setUpSteam(){this.steamMaterial=new three_module.jyz({vertexShader:"#define GLSLIFY 1\n//	Classic Perlin 2D Noise \n//	by Stefan Gustavson\n//\nvec2 fade(vec2 t) {\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n\nvec4 permute(vec4 x) {\n    return mod(((x * 34.0) + 1.0) * x, 289.0);\n}\n\nfloat perlin2d(vec2 P) {\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n    vec4 i = permute(permute(ix) + iy);\n    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n    vec4 gy = abs(gx) - 0.5;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n    vec2 g00 = vec2(gx.x, gy.x);\n    vec2 g10 = vec2(gx.y, gy.y);\n    vec2 g01 = vec2(gx.z, gy.z);\n    vec2 g11 = vec2(gx.w, gy.w);\n    vec4 norm = 1.79284291400159 - 0.85373472095314 *\n        vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\nuniform float uTime;\nvarying vec2 vUv;\n\nvoid main() {\n    vec3 newPosition = position;\n\n    vec2 displacementUv = uv;\n    displacementUv *= 2.0;\n    displacementUv.y += uTime * 0.001;\n\n    float perlin = perlin2d(displacementUv);\n    newPosition.y += perlin * 0.01;\n\n    vec4 modelPosition = modelMatrix * vec4(newPosition, 1.0);\n    vec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n    gl_Position = projectionPosition;\n\n    vUv = uv;\n}",fragmentShader:"#define GLSLIFY 1\n//	Classic Perlin 2D Noise \n//	by Stefan Gustavson\n//\nvec2 fade(vec2 t) {\n    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);\n}\n\nvec4 permute(vec4 x) {\n    return mod(((x * 34.0) + 1.0) * x, 289.0);\n}\n\nfloat perlin2d(vec2 P) {\n    vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n    vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n    Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n    vec4 ix = Pi.xzxz;\n    vec4 iy = Pi.yyww;\n    vec4 fx = Pf.xzxz;\n    vec4 fy = Pf.yyww;\n    vec4 i = permute(permute(ix) + iy);\n    vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n    vec4 gy = abs(gx) - 0.5;\n    vec4 tx = floor(gx + 0.5);\n    gx = gx - tx;\n    vec2 g00 = vec2(gx.x, gy.x);\n    vec2 g10 = vec2(gx.y, gy.y);\n    vec2 g01 = vec2(gx.z, gy.z);\n    vec2 g11 = vec2(gx.w, gy.w);\n    vec4 norm = 1.79284291400159 - 0.85373472095314 *\n        vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n    g00 *= norm.x;\n    g01 *= norm.y;\n    g10 *= norm.z;\n    g11 *= norm.w;\n    float n00 = dot(g00, vec2(fx.x, fy.x));\n    float n10 = dot(g10, vec2(fx.y, fy.y));\n    float n01 = dot(g01, vec2(fx.z, fy.z));\n    float n11 = dot(g11, vec2(fx.w, fy.w));\n    vec2 fade_xy = fade(Pf.xy);\n    vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n    float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n    return 2.3 * n_xy;\n}\n\nvarying vec2 vUv;\nuniform float uTime;\nuniform float uTimeFrequency;\nuniform vec2 uUvFrequency;\nvoid main() {\n    float borderAlphaX = min(vUv.x * 2.0, (1.0 - vUv.x) * 2.0);\n    float borderAlpha = (borderAlphaX * vUv.y);\n\n    vec2 uv = vUv * uUvFrequency;\n    uv.y += uTime * uTimeFrequency;\n\n    float perlin = perlin2d(uv);\n    perlin *= borderAlpha * 0.2;\n    perlin = min(perlin, 1.0);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, perlin);\n}",transparent:!0,side:three_module.ehD,depthWrite:!1,uniforms:{uTime:{value:0},uTimeFrequency:{value:6e-4},uUvFrequency:{value:new three_module.FM8(-2.62,1.47)}}}),this.steamMesh.material=this.steamMaterial,this.addDebugUI()}addDebugUI(){if(this.debugUI.isActive){let coffeeSteamFolder=this.debugUI.ui.addFolder({title:"Coffee Steam",expanded:!1}),PARAMS={position:{x:this.steamMesh.position.x,y:this.steamMesh.position.y,z:this.steamMesh.position.z},uUvFrequency:this.steamMaterial.uniforms.uUvFrequency.value,uTimeFrequency:this.steamMaterial.uniforms.uTimeFrequency.value};coffeeSteamFolder.addInput(PARAMS,"uUvFrequency"),coffeeSteamFolder.addInput(PARAMS,"uTimeFrequency",{min:1e-4,max:.01,step:1e-4}).on("change",()=>{this.steamMaterial.uniforms.uTimeFrequency.value=PARAMS.uTimeFrequency}),coffeeSteamFolder.addInput(PARAMS,"position").on("change",()=>{let{x,y,z}=PARAMS.position;this.steamMesh.position.set(x,y,z)})}}update(){this.steamMaterial&&(this.steamMaterial.uniforms.uTime.value=this.time.elaspedTime)}constructor(experience){var ref;this.time=experience.time,this.loadedResource=null===(ref=experience.resourcesLoader)||void 0===ref?void 0:ref.items,this.debugUI=experience.debugUI}}class ChairTop{update(){this.objectMesh&&(this.objectMesh.rotation.y=.5*Math.sin(5e-4*this.time.elaspedTime))}constructor(experience){this.time=experience.time,this.debugUI=experience.debugUI}}class ScreenAnimation{setUpScreens(){this.setUpMonitorScreen(),this.setUpTvScreen(),this.setUpMacScreen()}setUpTvScreen(){this.screensMesh.tvScreen.element.muted=!0,this.screensMesh.tvScreen.element.autoplay=!0,this.screensMesh.tvScreen.element.loop=!0,this.screensMesh.tvScreen.element.controls=!0,this.screensMesh.tvScreen.element.playsInline=!0,this.screensMesh.tvScreen.element.src="./assets/webGL/tv-video.mp4",this.screensMesh.tvScreen.element.style.position="fixed",this.screensMesh.tvScreen.element.style.top="0",this.screensMesh.tvScreen.element.style.left="0",this.screensMesh.tvScreen.element.style.zIndex="1",this.screensMesh.tvScreen.element.style.width="100px",this.screensMesh.tvScreen.element.style.opacity="0",this.screensMesh.tvScreen.element.style.pointerEvents="none",document.body.append(this.screensMesh.tvScreen.element),this.screensMesh.tvScreen.texture=new three_module.fO1(this.screensMesh.tvScreen.element),this.screensMesh.tvScreen.texture.encoding=three_module.knz,this.screensMesh.tvScreen.mesh.material=new three_module.vBJ({map:this.screensMesh.tvScreen.texture})}setUpMacScreen(){this.screensMesh.macScreen.element.muted=!0,this.screensMesh.macScreen.element.autoplay=!0,this.screensMesh.macScreen.element.loop=!0,this.screensMesh.macScreen.element.playsInline=!0,this.screensMesh.macScreen.element.src="./assets/webGL/mac-video.mp4",this.screensMesh.macScreen.element.style.position="fixed",this.screensMesh.macScreen.element.style.top="0",this.screensMesh.macScreen.element.style.left="0",this.screensMesh.macScreen.element.style.zIndex="1",this.screensMesh.macScreen.element.style.width="100px",this.screensMesh.macScreen.element.style.opacity="0",this.screensMesh.macScreen.element.style.pointerEvents="none",document.body.append(this.screensMesh.macScreen.element),this.screensMesh.macScreen.texture=new three_module.fO1(this.screensMesh.macScreen.element),this.screensMesh.macScreen.texture.encoding=three_module.knz,this.screensMesh.macScreen.mesh.material=new three_module.vBJ({map:this.screensMesh.macScreen.texture})}setUpMonitorScreen(){this.screensMesh.monitorScreen.element.muted=!0,this.screensMesh.monitorScreen.element.autoplay=!0,this.screensMesh.monitorScreen.element.loop=!0,this.screensMesh.monitorScreen.element.playsInline=!0,this.screensMesh.monitorScreen.element.src="./assets/webGL/monitor-video.mp4",this.screensMesh.monitorScreen.element.style.position="fixed",this.screensMesh.monitorScreen.element.style.top="0",this.screensMesh.monitorScreen.element.style.left="0",this.screensMesh.monitorScreen.element.style.zIndex="1",this.screensMesh.monitorScreen.element.style.width="100px",this.screensMesh.monitorScreen.element.style.opacity="0",this.screensMesh.monitorScreen.element.style.pointerEvents="none",document.body.append(this.screensMesh.monitorScreen.element),this.screensMesh.monitorScreen.texture=new three_module.fO1(this.screensMesh.monitorScreen.element),this.screensMesh.monitorScreen.texture.encoding=three_module.knz,this.screensMesh.monitorScreen.mesh.material=new three_module.vBJ({map:this.screensMesh.monitorScreen.texture})}addDebugUI(){this.debugUI.isActive&&this.debugUI.ui.addFolder({title:"Tv Screen",expanded:!0})}update(){}constructor(experience){this.time=experience.time,this.debugUI=experience.debugUI,this.isMeshComplete=!1,this.screensMesh={macScreen:{mesh:null,element:document.createElement("video")},monitorScreen:{mesh:null,element:document.createElement("video")},tvScreen:{mesh:null,element:document.createElement("video")}}}}var timeZone_vertex="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n    vec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n\n    gl_Position = projectionPosition;\n\n    vUv = uv;\n}",timeZone_fragment="#define GLSLIFY 1\nuniform vec3 uColor;\nvarying vec2 vUv;\n#define PI 3.1415926535897932384626433832795;\n\nvoid main() {\n    // create spherical glow\n    float distanceToCenter = distance(vUv, vec2(0.5));\n    distanceToCenter = (0.5 / distanceToCenter) - 0.5 * 2.0;\n\n    gl_FragColor = vec4(uColor, distanceToCenter);\n}",gsap=__webpack_require__(990);let sourcesDefault=[{name:"3dRoomModel",type:"gltfModel",path:"./assets/webGL/bruno-3d-room.glb",useDraco:!0,sourceType:{}},{name:"bakedLightMap1",type:"texture",path:"./assets/webGL/bakedLightMap1.jpg",useDraco:!1,sourceType:three_module.xEZ},{name:"bakedLightMap2",type:"texture",path:"./assets/webGL/bakedLightMap2.jpg",useDraco:!1,sourceType:three_module.xEZ},{name:"googleLedLightTexture",type:"texture",path:"./assets/webGL/googleHomeLightMaskTexture.png",useDraco:!1,sourceType:three_module.xEZ}],sourcesDay=[{name:"baked1Day",type:"texture",path:"./assets/webGL/baked1Day.jpg",useDraco:!1,groupName:"3dRoomDay",sourceType:three_module.xEZ},{name:"baked2Day",type:"texture",path:"./assets/webGL/baked2Day.jpg",useDraco:!1,groupName:"3dRoomDay",sourceType:three_module.xEZ}],sourcesNight=[{name:"baked1Night",type:"texture",path:"./assets/webGL/baked1Night.jpg",useDraco:!1,groupName:"3dRoomNight",sourceType:three_module.xEZ},{name:"baked2Night",type:"texture",path:"./assets/webGL/baked2Night.jpg",useDraco:!1,groupName:"3dRoomNight",sourceType:three_module.xEZ}],sourcesDefaultClone=[...sourcesDefault],sourceDayClone=[...sourcesDay],sourceNightClone=[...sourcesNight];class TimeZone{setUp(){this.isDayTime=getIsDayTime(),this.isDayTime=getIsDayTime();let currentTimeSwitch=document.getElementById("currentTime"),sources=[];this.isDayTime?(sources=[...sourcesDefaultClone,...sourceDayClone]).forEach(source=>{source.groupName="3dRoomDay",source.totalGroupMember=sources.length}):(sources=[...sourcesDefaultClone,...sourceNightClone]).forEach(source=>{source.groupName="3dRoomNight",source.totalGroupMember=sources.length}),this.resourceLoader.loadSources(sources,this.loading.loadingManager);let geometry=new three_module._12(1.5,1.5,1,1);this.setUpSunLight(geometry),this.setUpMoonLight(geometry),this.isDayTime?this.moonlight.visible=!1:this.sunlight.visible=!1,currentTimeSwitch.addEventListener("change",this.onCurrentTimeChange.bind(this))}setUpSunLight(geometry){this.sunLightMaterial=new three_module.jyz({vertexShader:timeZone_vertex,fragmentShader:timeZone_fragment,transparent:!0,uniforms:{uColor:{value:new three_module.Ilk("#ffeec6")}},side:three_module.ehD}),this.sunlight=new three_module.Kj0(geometry,this.sunLightMaterial),this.sunlight.position.x=-1.51,this.sunlight.position.y=this.isDayTime?1.92:-9,this.sunlight.position.z=-1.52,this.scene.add(this.sunlight)}setUpMoonLight(geometry){this.moonLightMaterial=new three_module.jyz({vertexShader:timeZone_vertex,fragmentShader:timeZone_fragment,transparent:!0,uniforms:{uColor:{value:new three_module.Ilk("#5273f8")}},side:three_module.ehD}),this.moonlight=new three_module.Kj0(geometry,this.moonLightMaterial),this.moonlight.position.x=-1.51,this.moonlight.position.y=this.isDayTime?5:1.92,this.moonlight.position.z=-1.52,this.scene.add(this.moonlight)}onCurrentTimeChange(){let currentTimeSwitch=document.getElementById("currentTime");"true"===currentTimeSwitch.value?this.isDayTime=!0:this.isDayTime=!1,this.animate(),this.bakedTextures.timeZoneChanged(this.isDayTime)}animate(){let currentTimeSwitch=document.getElementById("currentTime"),currentTimeSwitchWrapper=document.querySelector(".MuiButtonBase-root");if(currentTimeSwitchWrapper.classList.add("Mui-disabled"),this.isDayTime){let tl=gsap.ZP.timeline({defaults:{duration:1,ease:"Power0.easeInOut"}});tl.to(this.moonlight.position,{y:5,onComplete:()=>{this.moonlight.visible=!1,this.sunlight.visible=!0}}).to(this.sunlight.position,{y:1.92,onComplete(){currentTimeSwitch.dataset.disabled="false",currentTimeSwitchWrapper.classList.remove("Mui-disabled")}})}else{let tl1=gsap.ZP.timeline({defaults:{duration:1}});tl1.to(this.sunlight.position,{y:-9,onComplete:()=>{this.sunlight.visible=!1,this.moonlight.visible=!0}}).to(this.moonlight.position,{y:1.92,onComplete(){currentTimeSwitch.dataset.disabled="false",currentTimeSwitchWrapper.classList.remove("Mui-disabled")}})}}addDebugUI(){if(this.debugUI.isActive){let timeZoneFolder=this.debugUI.ui.addFolder({title:"TimeZone",expanded:!0});if(this.isDayTime){let PARAMS={position:{x:this.sunlight.position.x,y:this.sunlight.position.y,z:this.sunlight.position.z},color:"#FDB813"};timeZoneFolder.addInput(PARAMS,"position").on("change",()=>{this.sunlight.position.set(PARAMS.position.x,PARAMS.position.y,PARAMS.position.z)}),timeZoneFolder.addInput(PARAMS,"color").on("change",()=>{this.sunLightMaterial.uniforms.uColor.value=new three_module.Ilk(PARAMS.color)})}else{let PARAMS1={position:{x:this.moonlight.position.x,y:this.moonlight.position.y,z:this.moonlight.position.z},color:"#5273f8"};timeZoneFolder.addInput(PARAMS1,"position").on("change",()=>{this.moonlight.position.set(PARAMS1.position.x,PARAMS1.position.y,PARAMS1.position.z)}),timeZoneFolder.addInput(PARAMS1,"color").on("change",()=>{this.moonLightMaterial.uniforms.uColor.value=new three_module.Ilk(PARAMS1.color)})}}}update(){}destroy(){let currentTimeSwitch=document.getElementById("currentTime");currentTimeSwitch.removeEventListener("change",this.onCurrentTimeChange)}constructor(experience,bakedTextures,loading){this.time=experience.time,this.debugUI=experience.debugUI,this.scene=experience.scene,this.resourceLoader=experience.resourcesLoader,this.loading=loading,this.bakedTextures=bakedTextures,this.setUp(),this.addDebugUI()}}var bakedTextures_vertex="#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n    vec4 modelPosition = modelMatrix * vec4(position, 1.0);\n    vec4 viewPosition = viewMatrix * modelPosition;\n    vec4 projectionPosition = projectionMatrix * viewPosition;\n\n    gl_Position = projectionPosition;\n\n    vUv = uv;\n}",bakedTextures_fragment="#define GLSLIFY 1\nuniform sampler2D uBakedDayTexture;\nuniform sampler2D uBakedNightTexture;\nuniform sampler2D uBakedLightMapTexture;\nuniform float uIsDayTime;\n\nuniform vec3 uTvBackLightColor;\nuniform vec3 uDeskBackLightColor;\nuniform vec3 uMonitorBackLightColor;\n\nuniform float uTvBackLightIntensity;\nuniform float uDeskBackLightIntensity;\nuniform float uMonitorBackLightIntensity;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec3 bakedDayColor = texture(uBakedDayTexture, vUv).rgb;\n    vec3 bakedNightColor = texture(uBakedNightTexture, vUv).rgb;\n\n    vec3 bakedColor = mix(bakedNightColor, bakedDayColor, uIsDayTime);\n    vec3 lightMapColor = texture(uBakedLightMapTexture, vUv).rgb;\n\n    lightMapColor.r = lightMapColor.r * uTvBackLightIntensity;\n    lightMapColor.g = lightMapColor.g * uDeskBackLightIntensity;\n    lightMapColor.b = lightMapColor.b * uMonitorBackLightIntensity;\n\n    bakedColor = mix(bakedColor, uTvBackLightColor, lightMapColor.r);\n    bakedColor = mix(bakedColor, uDeskBackLightColor, lightMapColor.g);\n    bakedColor = mix(bakedColor, uMonitorBackLightColor, lightMapColor.b);\n\n    gl_FragColor = vec4(bakedColor, 1.0);\n}";class BakedTextures{setUp(){let baked1Texture,baked2Texture;this.experience.renderer.rendererInstance.outputEncoding=three_module.knz,this.loadedResource.bakedLightMap1.encoding=three_module.knz,this.loadedResource.bakedLightMap1.flipY=!1,this.loadedResource.bakedLightMap2.encoding=three_module.knz,this.loadedResource.bakedLightMap2.flipY=!1;let uniformBackLight={};this.backLights.forEach(light=>{uniformBackLight["".concat(light.name,"Intensity")]={value:light.intensity.value},uniformBackLight["".concat(light.name,"Color")]={value:light.color}}),this.isDayTime?(baked1Texture=this.loadedResource.baked1Day,baked2Texture=this.loadedResource.baked2Day,this.loadRemainingResource(!1,sourceNightClone,"3dRoomNight")):(baked1Texture=this.loadedResource.baked1Night,baked2Texture=this.loadedResource.baked2Night,this.loadRemainingResource(!0,sourceDayClone,"3dRoomDay")),baked1Texture.encoding=three_module.knz,baked1Texture.flipY=!1,this.baked1Material=new three_module.jyz({vertexShader:bakedTextures_vertex,fragmentShader:bakedTextures_fragment,uniforms:{...uniformBackLight,uBakedDayTexture:{value:baked1Texture},uBakedNightTexture:{value:baked1Texture},uIsDayTime:{value:this.isDayTime?1:0},uBakedLightMapTexture:{value:this.loadedResource.bakedLightMap1}}}),baked2Texture.encoding=three_module.knz,baked2Texture.flipY=!1,this.baked2Material=new three_module.jyz({vertexShader:bakedTextures_vertex,fragmentShader:bakedTextures_fragment,uniforms:{...uniformBackLight,uBakedDayTexture:{value:baked2Texture},uBakedNightTexture:{value:baked2Texture},uIsDayTime:{value:this.isDayTime?1:0},uBakedLightMapTexture:{value:this.loadedResource.bakedLightMap2}}}),this.isReady=!0,this.addDebugUI()}loadRemainingResource(isDayTexture,sources,groupName){sources.forEach(source=>source.totalGroupMember=sourceNightClone.length),this.resourceLoader.loadSources(sources),this.resourceLoader.on("".concat(groupName,"Ready"),()=>{isDayTexture?(this.loadedResource.baked1Day.encoding=three_module.knz,this.loadedResource.baked1Day.flipY=!1,this.loadedResource.baked2Day.encoding=three_module.knz,this.loadedResource.baked2Day.flipY=!1,this.baked1Material.uniforms.uBakedDayTexture.value=this.loadedResource.baked1Day,this.baked2Material.uniforms.uBakedDayTexture.value=this.loadedResource.baked2Day):(this.loadedResource.baked1Night.encoding=three_module.knz,this.loadedResource.baked1Night.flipY=!1,this.loadedResource.baked2Night.encoding=three_module.knz,this.loadedResource.baked2Night.flipY=!1,this.baked1Material.uniforms.uBakedNightTexture.value=this.loadedResource.baked1Night,this.baked2Material.uniforms.uBakedNightTexture.value=this.loadedResource.baked2Night)})}timeZoneChanged(isDayTime){gsap.ZP.to([this.baked1Material.uniforms.uIsDayTime,this.baked2Material.uniforms.uIsDayTime],{value:isDayTime?1:0,duration:4})}handleBackLightIntensity(){this.backLights.forEach(light=>{this.baked1Material.uniforms["".concat(light.name,"Intensity")].value>=light.intensity.max&&(this.baked1Material.uniforms["".concat(light.name,"Intensity")].value=light.intensity.max,this.baked2Material.uniforms["".concat(light.name,"Intensity")].value=light.intensity.max,light.intensity.flow="Subtract"),this.baked1Material.uniforms["".concat(light.name,"Intensity")].value<=light.intensity.min&&(this.baked1Material.uniforms["".concat(light.name,"Intensity")].value=light.intensity.min,this.baked2Material.uniforms["".concat(light.name,"Intensity")].value=light.intensity.min,light.intensity.flow="Add"),"Add"===light.intensity.flow?(this.baked1Material.uniforms["".concat(light.name,"Intensity")].value+=this.time.deltaTime*light.intensity.offset,this.baked2Material.uniforms["".concat(light.name,"Intensity")].value+=this.time.deltaTime*light.intensity.offset):(this.baked1Material.uniforms["".concat(light.name,"Intensity")].value-=this.time.deltaTime*light.intensity.offset,this.baked2Material.uniforms["".concat(light.name,"Intensity")].value-=this.time.deltaTime*light.intensity.offset)})}addDebugUI(){if(this.debugUI.isActive){let backLightFolder=this.debugUI.ui.addFolder({title:"Back Light Color",expanded:!0}),PARAMS={tvBackLight:"#f5ff00",monitorBackLight:"#ff8302",deskBackLight:"#fd1111"};backLightFolder.addInput(PARAMS,"tvBackLight").on("change",()=>{this.baked1Material.uniforms.uTvBackLightColor.value=new three_module.Ilk(PARAMS.tvBackLight),this.baked2Material.uniforms.uTvBackLightColor.value=new three_module.Ilk(PARAMS.tvBackLight)}),backLightFolder.addInput(PARAMS,"monitorBackLight").on("change",()=>{this.baked1Material.uniforms.uMonitorBackLightColor.value=new three_module.Ilk(PARAMS.monitorBackLight),this.baked2Material.uniforms.uMonitorBackLightColor.value=new three_module.Ilk(PARAMS.monitorBackLight)}),backLightFolder.addInput(PARAMS,"deskBackLight").on("change",()=>{this.baked1Material.uniforms.uDeskBackLightColor.value=new three_module.Ilk(PARAMS.deskBackLight),this.baked2Material.uniforms.uDeskBackLightColor.value=new three_module.Ilk(PARAMS.deskBackLight)})}}update(){this.isReady&&this.handleBackLightIntensity()}constructor(experience){var ref;this.experience=experience,this.time=experience.time,this.resourceLoader=experience.resourcesLoader,this.loadedResource=null===(ref=experience.resourcesLoader)||void 0===ref?void 0:ref.items,this.debugUI=experience.debugUI,this.isReady=!1,this.isDayTime=getIsDayTime(),this.backLights=[{intensity:{flow:"Add",max:.9,min:.1,value:.1,offset:5e-5},color:new three_module.Ilk("#f5ff00"),name:"uTvBackLight"},{intensity:{flow:"Add",max:1.5,min:.1,value:.1,offset:5e-4},color:new three_module.Ilk("#fd1111"),name:"uDeskBackLight"},{intensity:{flow:"Add",max:.9,min:.1,value:.1,offset:1e-4},color:new three_module.Ilk("#ff8302"),name:"uMonitorBackLight"}]}}class Loading{onStart(){let loadingFadeIn=document.querySelector("#loadingFadeIn");loadingFadeIn.style.display="flex",Array.from(loadingFadeIn.children).forEach(child=>{child.style.transform="translateY(".concat(loadingFadeIn.clientHeight,"px)"),child.style.opacity="0"})}onProgress(url,itemsLoaded,itemsTotal){this.countDownEl.innerText="".concat(Math.floor(itemsLoaded/itemsTotal*100),"%")}onLoad(){this.backgroundMusic.setUp();let loadingComponent=document.querySelector(".loadingState"),loadingWrapper=document.querySelector(".loading-wrapper"),loadingFadeIn=document.querySelector("#loadingFadeIn"),countDownWrapper=document.querySelector("#loadingCountDownWrapper"),tl=gsap.ZP.timeline({});tl.to(loadingFadeIn.children,{delay:1.5,translateY:"0px",opacity:1,duration:1,ease:"power3.in",stagger:{each:.1,from:"start"}}).to(countDownWrapper,{opacity:0,duration:0}).to(loadingFadeIn.children,{translateY:"-".concat(loadingFadeIn.clientHeight,"px"),opacity:0,duration:1,ease:"power3.Out",onComplete(){loadingComponent.style.display="none"},stagger:{each:.2,from:"end"}}).to(loadingWrapper,{opacity:0},"<")}onError(url){}constructor(experience,backgroundMusic){this.loadingManager=new three_module.lLk,this.backgroundMusic=backgroundMusic,this.countDownEl=document.querySelector("#loadingCountDown"),this.loadingManager.onStart=this.onStart.bind(this),this.loadingManager.onProgress=this.onProgress.bind(this),this.loadingManager.onLoad=this.onLoad.bind(this),this.loadingManager.onError=this.onError.bind(this)}}class BackgroundMusic{setUp(){let musicPlayWrapper=document.querySelector(".musicPlayWrapper");this.audioEl=document.createElement("audio"),musicPlayWrapper.append(this.audioEl),this.audioEl.loop=!0,this.audioEl.muted=!0,this.audioEl.autoplay=!1,this.audioEl.src="./assets/webGL/backgroundMusic.mp3",this.audioEl.addEventListener("canplaythrough",()=>{document.addEventListener("click",userInteracted),document.addEventListener("touchend",userInteracted)});let userInteracted=()=>{console.log("touched"),this.audioEl.play(),this.audioEl.muted=!1,musicPlayWrapper.style.display="initial",document.removeEventListener("click",userInteracted),document.removeEventListener("touchend",userInteracted)}}onToggleState(shouldPlay){shouldPlay?this.audioEl.play():this.audioEl.pause()}constructor(){}}class World{setUp3dRoom(groupName){this.experience.resourcesLoader.on("".concat(groupName,"Ready"),()=>{this.bakedTextures.setUp(),this.loadedResource["3dRoomModel"].scene.traverse(child=>{var ref,ref1;if((null===(ref=child.parent)||void 0===ref?void 0:ref.name)==="baked1"&&(child.material=this.bakedTextures.baked1Material),(null===(ref1=child.parent)||void 0===ref1?void 0:ref1.name)==="baked2"&&(child.material=this.bakedTextures.baked2Material),/light/i.test(child.name)&&(this.emissionLights.lights[child.name]=child),"coffeSteam"===child.name&&(this.coffeeSteam.steamMesh=child),/screen/i.test(child.name)&&(this.screenAnimation.screensMesh[child.name].mesh=child),"chairTop"===child.name&&(this.chairTop.objectMesh=child),child.name.includes("googleHomeLed")){child.name.trim();let ledIndex=Number(child.name.charAt(child.name.length-1));this.googleLedLights.leds[ledIndex].mesh=child}}),this.googleLedLights.isMeshComplete=!0,this.googleLedLights.setUpLights(),this.emissionLights.isMeshComplete=!0,this.emissionLights.setupLights(),this.screenAnimation.isMeshComplete=!0,this.screenAnimation.setUpScreens(),this.coffeeSteam.setUpSteam(),this.experience.scene.add(this.loadedResource["3dRoomModel"].scene)})}constructor(experience){var ref;this.update=()=>{this.orbitControls&&this.orbitControls.update(),this.navigation.update(),this.googleLedLights.update(),this.emissionLights.update(),this.coffeeSteam.update(),this.chairTop.update(),this.screenAnimation.update(),this.timeZone.update(),this.bakedTextures.update()},this.destroy=()=>{this.navigation.destroy()},this.experience=experience,this.loadedResource=null===(ref=experience.resourcesLoader)||void 0===ref?void 0:ref.items,this.debugUI=experience.debugUI,this.time=experience.time,this.backgroundMusic=new BackgroundMusic,this.loading=new Loading(experience,this.backgroundMusic),this.bakedTextures=new BakedTextures(experience),this.timeZone=new TimeZone(experience,this.bakedTextures,this.loading),this.navigation=new Navigation(experience),this.googleLedLights=new GoogleLedLights(experience),this.emissionLights=new EmissionLights(experience),this.coffeeSteam=new CoffeSteam(experience),this.chairTop=new ChairTop(experience),this.screenAnimation=new ScreenAnimation(experience),this.timeZone.isDayTime?this.setUp3dRoom("3dRoomDay"):this.setUp3dRoom("3dRoomNight")}}let camera3dSpace={position:new three_module.Pa4(0,0,0),scale:new three_module.Pa4(1,1,1),rotation:new three_module.Pa4(0,0,0),fov:65},defaultExperienceConfig={useWindowSizeOnResize:!0,showPerformance:!0};class RoomExperience extends DefaultExperience{updateWithTick(){this.world.update(),this.camera.update(),this.renderer.update()}destroyExperience(){RoomExperience._instance=null,this.destroyDefaultExperience(),this.world.destroy()}constructor(canvas){if(RoomExperience._instance instanceof RoomExperience)return RoomExperience._instance;super(canvas,camera3dSpace,defaultExperienceConfig),this.world=new World(this),RoomExperience._instance=this,this.time.on("tick",this.updateWithTick.bind(this))}}function Home(){let canvas=(0,react.useRef)(null),experience=(0,react.useRef)(null),togglePlay=(0,react.useCallback)(value=>{var ref;null===(ref=experience.current)||void 0===ref||ref.world.backgroundMusic.onToggleState(value)},[]);return(0,react.useEffect)(()=>(canvas.current&&(experience.current=new RoomExperience(canvas.current),window.experience=experience),()=>{var ref;return null===(ref=experience.current)||void 0===ref?void 0:ref.destroyExperience()}),[canvas]),(0,jsx_runtime.jsxs)("div",{className:"app-wrapper",children:[(0,jsx_runtime.jsxs)(head_default(),{children:[(0,jsx_runtime.jsx)("title",{children:"3D Room On The Web"}),(0,jsx_runtime.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,jsx_runtime.jsx)("link",{rel:"icon",href:"/favicon.jpg"})]}),(0,jsx_runtime.jsx)(components_LoadingOverlay,{}),(0,jsx_runtime.jsxs)("main",{className:"webGl-Wrapper",children:[(0,jsx_runtime.jsx)("canvas",{className:"webGl-canvas",ref:canvas}),(0,jsx_runtime.jsx)(MuiCustomizedSwitch,{}),(0,jsx_runtime.jsx)(components_MusicPlayIcons,{togglePlay:togglePlay})]})]})}}},function(__webpack_require__){__webpack_require__.O(0,[737,624,802,335,774,888,179],function(){return __webpack_require__(__webpack_require__.s=8312)}),_N_E=__webpack_require__.O()}]);