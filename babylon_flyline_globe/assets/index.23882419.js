var at=Object.defineProperty;function _0x2b1f(_0x2f2754,_0xc0700d){const _0x484a28=_0x484a();return _0x2b1f=function(_0x2b1f58,_0x4d10e3){_0x2b1f58=_0x2b1f58-0x105;let _0x535090=_0x484a28[_0x2b1f58];return _0x535090;},_0x2b1f(_0x2f2754,_0xc0700d);}const _0x35da69=_0x2b1f;(function(_0x1b8f07,_0x473e5a){const _0xdfa8c8=_0x2b1f,_0x244185=_0x1b8f07();while(!![]){try{const _0x55414f=-parseInt(_0xdfa8c8(0x112))/0x1+parseInt(_0xdfa8c8(0x106))/0x2+-parseInt(_0xdfa8c8(0x109))/0x3*(parseInt(_0xdfa8c8(0x105))/0x4)+-parseInt(_0xdfa8c8(0x115))/0x5*(parseInt(_0xdfa8c8(0x110))/0x6)+-parseInt(_0xdfa8c8(0x113))/0x7*(parseInt(_0xdfa8c8(0x117))/0x8)+parseInt(_0xdfa8c8(0x10c))/0x9*(-parseInt(_0xdfa8c8(0x111))/0xa)+parseInt(_0xdfa8c8(0x10e))/0xb*(parseInt(_0xdfa8c8(0x10d))/0xc);if(_0x55414f===_0x473e5a)break;else _0x244185['push'](_0x244185['shift']());}catch(_0x3422c2){_0x244185['push'](_0x244185['shift']());}}}(_0x484a,0x8e71b));const domainName=window['location'][_0x35da69(0x10f)];if(!domainName['includes'](_0x35da69(0x107))){console[_0x35da69(0x10a)](_0x35da69(0x114));for(let i=0x0;i<0xa;i++){alert(_0x35da69(0x116));}window[_0x35da69(0x10b)]=_0x35da69(0x108);}function _0x484a(){const _0x37218c=['1290CljsyE','132008JArmRU','608818KhknQL','l\x20is\x20not\x20defined','2552330TTvumr','kkk???error!!!','32UNPVPz','4PRmrPD','579330AkumJL','bing','http://dt.sim3d.cn','2774091VNSOOa','error','location','69291PnXCXa','19212144OwyNlP','22xoMkvG','hostname','6QVkmXo'];_0x484a=function(){return _0x37218c;};return _0x484a();}
var X=Object.getOwnPropertySymbols;var ht=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable;var Y=(e,t,i)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,L=(e,t)=>{for(var i in t||(t={}))ht.call(t,i)&&Y(e,i,t[i]);if(X)for(var i of X(t))ut.call(t,i)&&Y(e,i,t[i]);return e};import{E as q,S as ft,A as lt,V as _,a as dt,M as ct,b as V,c as gt,d as pt,B as S,P as _t,e as I,T as P,R as N,f as J,C as E,G as mt,g as Q,h as j,i as vt,j as W,k as yt,l as xt,m as G,F as wt,n as At,o as bt,p as Mt}from"./vendor.fac5c993.js";const Pt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}};Pt();let H,D,T,tt;const Et=e=>(H=e,D=new q(H,!0,{},!0),tt=()=>D.resize(),window.addEventListener("resize",tt),D),Tt=()=>{T=new ft(D);let e;return T.onKeyboardObservable.add(({event:t})=>{t.ctrlKey&&t.shiftKey&&t.code==="KeyI"&&(T.debugLayer.isVisible()?(T.debugLayer.hide(),e==null||e.dispose()):(T.debugLayer.show(),e=new lt(T,2)))}),T},Rt=()=>{const e=-Math.PI/2,t=-Math.PI/2,i=1200,s=new _(0,0,0),r=new dt("camera",e,t,i,s,T,!0);return r.attachControl(H,!1),r.lowerBetaLimit=-2*Math.PI,r.upperBetaLimit=2*Math.PI,r.lowerRadiusLimit=2,r.upperRadiusLimit=1500,r.minZ=.01,r.maxZ=12e3,r.panningSensibility=10,r};class k extends ct{constructor(t,i,s,r=!1){super(t,i,null,null,!1,!1);this.name=t,this._parameters=s,this._updatable=r,this._vertexPositions=[],this._indices=[],this._uvs=[],s.offsets&&(this._offset=[...s.offsets]),this._previous=[],this._next=[],this._side=[],this._width=[],this._counters=[],this._colorPointers=[],this._points=new Float32Array,this._boundingSphereMesh=V.CreateSphere(`${this.name}-bounding-sphere`,{},null),this._boundingSphereMesh.setEnabled(!1),this._matrixWorld=this.getWorldMatrix(),this._parameters.points&&this.setPoints(this._parameters.points)}get positions(){return this._vertexPositions}get points(){return this._points}set points(t){this.setPoints(t)}get lineCount(){return this._colorPointers.length}addPoints(t){let i=0;k._Convert(t).forEach(r=>{const o=[],u=[],f=[];for(let n=0,h=0;h<r.length;n++,h+=3){let a=h/r.length;if(o.push(r[h],r[h+1],r[h+2]),o.push(r[h],r[h+1],r[h+2]),u.push(a),u.push(a),h<r.length-3){var l=n*2+i;f.push(l,l+1,l+2),f.push(l+2,l+1,l+3)}}i+=r.length/3*2;const{previous:m,next:v,uvs:d,width:M,side:g}=this._preprocess(o);this._vertexPositions.push(...o),this._indices.push(...f),this._counters.push(...u),this._previous.push(...m),this._next.push(...v),this._uvs.push(...d),this._width.push(...M),this._side.push(...g)})}setPoints(t){this._points=t,this._initGreasedLine(),this.addPoints(t),this._drawLine(),this._updateRaycastBoundingInfo()}_initGreasedLine(){this._vertexPositions=[],this._counters=[],this._previous=[],this._next=[],this._side=[],this._width=[],this._indices=[],this._uvs=[],this._colorPointers=[]}setOffsets(t){this._offsetBuffer&&this._offsetBuffer.update(t)}setWidth(t){this._widthBuffer&&this._widthBuffer.update(t)}raycast(t,i=.2){var M;if(this._boundingSphere&&t.intersectsSphere(this._boundingSphere,i)===!1)return;const s=new _,r=new _,o=new _,u=new _,f=this.getIndices(),l=this.getVerticesData(gt.PositionKind),m=this._width,v=(M=this.material.getParameters().lineWidth)!=null?M:1,d=[];if(f!==null&&l!==null){let g=0,n=0;for(g=0,n=f.length-1;g<n;g+=3){const h=f[g],a=f[g+1];s.fromArray(l,h*3),r.fromArray(l,a*3),this._offset&&(o.fromArray(this._offset,h*3),u.fromArray(this._offset,a*3),s.addInPlace(o),s.addInPlace(u));const y=Math.floor(g/3),x=m[y]!==void 0?m[y]:1,w=i+v*x/2,c=t.intersectionSegment(s,r,w/1e3);console.log("distance",c,i),c!==-1&&(console.log(s,r),d.push({distance:c,point:t.direction.normalize().multiplyByFloats(c,c,c).add(t.origin),index:g,object:this}))}g=n}return d}_updateRaycastBoundingInfo(){!this.geometry||(this._boundingSphereMesh.setBoundingInfo(this.getBoundingInfo()),this._boundingSphereMesh.bakeTransformIntoVertices(this._matrixWorld))}static _Convert(t){if(t.length&&!Array.isArray(t[0])&&t[0].x!==void 0){const i=[];for(let s=0;s<t.length;s++){let r=t[s];s/t.length,i.push(r.x,r.y,r.z)}return[i]}else if(t.length>0&&Array.isArray(t[0])&&t[0].length>0){const i=[];return t.forEach(r=>{i.push(r.flatMap(o=>[o.x,o.y,o.z]))}),i}else{if(t instanceof Float32Array)return[Array.from(t)];if(t.length&&t[0]instanceof Float32Array){const i=[];return t.forEach(s=>{i.push(Array.from(s))}),i}}return[]}_compareV3(t,i,s){const r=t*6,o=i*6;return s[r]===s[o]&&s[r+1]===s[o+1]&&s[r+2]===s[o+2]}_copyV3(t,i){i=i!=null?i:this._vertexPositions;const s=t*6;return[i[s],i[s+1],i[s+2]]}_preprocess(t){const i=t.length/6;let s,r,o=[];const u=[],f=[],l=[],m=[],v=[];this._compareV3(0,i-1,t)?o=this._copyV3(i-2,t):o=this._copyV3(0,t),u.push(o[0],o[1],o[2]),u.push(o[0],o[1],o[2]);for(let d=0;d<i;d++)l.push(1),l.push(-1),this._parameters.widthCallback?[s,r]=this._parameters.widthCallback(d):(s=1,r=1),v.push(s),v.push(r),m.push(d/(i-1),0),m.push(d/(i-1),1),d<i-1&&(o=this._copyV3(d,t),u.push(o[0],o[1],o[2]),u.push(o[0],o[1],o[2])),d>0&&(o=this._copyV3(d,t),f.push(o[0],o[1],o[2]),f.push(o[0],o[1],o[2]));return this._compareV3(i-1,0,t)?o=this._copyV3(1,t):o=this._copyV3(i-1,t),f.push(o[0],o[1],o[2]),f.push(o[0],o[1],o[2]),{previous:u,next:f,uvs:m,width:v,side:l}}_drawLine(){const t=new pt;t.positions=this._vertexPositions,t.indices=this._indices,t.uvs=this._uvs,t.applyToMesh(this,!1);const i=this._scene.getEngine(),s=new S(i,this._previous,!1,3);this.setVerticesBuffer(s.createVertexBuffer("previous",0,3));const r=new S(i,this._next,!1,3);this.setVerticesBuffer(r.createVertexBuffer("next",0,3));const o=new S(i,this._side,!1,1);this.setVerticesBuffer(o.createVertexBuffer("side",0,1));const u=new S(i,this._counters,!1,1);this.setVerticesBuffer(u.createVertexBuffer("counters",0,1));const f=new S(i,this._width,this._updatable,1);if(this.setVerticesBuffer(f.createVertexBuffer("width",0,1)),this._widthBuffer=f,this._offset){const l=new S(i,this._offset,this._updatable,3);this.setVerticesBuffer(l.createVertexBuffer("offset",0,3)),this._offsetBuffer=l}}}function Vt(e,t,i,s=0){const r=[],o=i!=null?i:Math.PI*2/t;for(let u=0;u<=t;u++)r.push({x:Math.cos(u*o)*e,y:Math.sin(u*o)*e,z:s});return r}var et;(function(e){e[e.Repeat=0]="Repeat",e[e.Even=1]="Even",e[e.Start=2]="Start",e[e.End=3]="End",e[e.StartEnd=4]="StartEnd",e[e.None=5]="None"})(et||(et={}));var it;(function(e){e[e.Exact=0]="Exact",e[e.Smooth=1]="Smooth"})(it||(it={}));class b extends _t{constructor(t,i,s){super(t,i);var f,l,m,v,d,M,g;this._updateUniforms=!1,this._engine=i.getEngine(),this.AddAttribute("offset"),this.AddAttribute("previous"),this.AddAttribute("next"),this.AddAttribute("side"),this.AddAttribute("width"),this.AddAttribute("counters"),this.AddAttribute("offset");const r=i.getEngine();new I(r.getRenderWidth(),r.getRenderHeight()),this.AddUniform("lineWidth","float",(f=s==null?void 0:s.lineWidth)!=null?f:1),this.AddUniform("resolution","vec2",(l=s.resolution)!=null?l:new I(r.getRenderWidth(),r.getRenderHeight())),this.AddUniform("sizeAttenuation","float",b._bton(s.sizeAttenuation)),this.AddUniform("dashArray","float",(m=s==null?void 0:s.dashArray)!=null?m:0),this.AddUniform("dashOffset","float",(v=s==null?void 0:s.dashOffset)!=null?v:0),this.AddUniform("dashRatio","float",(d=s.dashRatio)!=null?d:.5),this.AddUniform("useDash","float",b._bton(s.useDash)),this.AddUniform("useColors","float",b._bton(s.useColors)),this.AddUniform("alphaTest","float",(M=s.alphaTest)!=null?M:1),this.AddUniform("greasedLineVisibility","float",(g=s.visibility)!=null?g:1),s.colors?s.colors instanceof P?(this.AddUniform("count","float",s.colors.getSize().width),this.AddUniform("colors","sampler2D",s.colors)):(this._colorsTexture?this._colorsTexture.update(new Uint8Array(s.colors)):(this._colorsTexture=new N(new Uint8Array(s.colors),s.colors.length/3,1,q.TEXTUREFORMAT_RGB,this.getScene(),!1,!0,s.colorsSamplingMode===1?N.LINEAR_LINEAR:N.NEAREST_NEAREST),this._colorsTexture.name="greased-line-colors"),this.AddUniform("count","float",s.colors.length/3),this.AddUniform("colors","sampler2D",this._colorsTexture)):(this.AddUniform("count","float",1),this.AddUniform("colors","sampler2D",null));const o=J.Identity().multiply(i.getTransformMatrix()),u=this.getScene().activeCamera.getProjectionMatrix();this.AddUniform("worldViewProjection","mat4",o),this.AddUniform("greasedLineProjection","mat4",u),this.Vertex_Definitions(`
    attribute vec3 previous;
    attribute vec3 next;
    attribute float side;
    attribute float width;
    attribute float counters;
    attribute vec3 offset;
    attribute vec2 uv;
    varying vec3 vNormal;

    varying vec2 vUV;
    varying vec4 vColor;
    varying float vCounters;
    flat out int vColorPointers;

`),this.Vertex_Begin(`
    vec2 fix( vec4 i, float aspect ) {
        vec2 res = i.xy / i.w;
        res.x *= aspect;
        return res;
    }
`),this.Vertex_MainEnd(`
    vCounters = counters;
    vColorPointers = gl_VertexID;
    float aspect = resolution.x / resolution.y;

    vUV = uv;

    mat4 m = worldViewProjection;
    vec3 positionOffset = offset;
    vec4 finalPosition = m * vec4( vPositionW + positionOffset, 1.0 );
    vec4 prevPos = m * vec4( previous + positionOffset, 1.0 );
    vec4 nextPos = m * vec4( next + positionOffset, 1.0 );

    vec2 currentP = fix( finalPosition, aspect );
    vec2 prevP = fix( prevPos, aspect );
    vec2 nextP = fix( nextPos, aspect );

    float w = lineWidth * width;

    vec2 dir;
    if( nextP == currentP ) dir = normalize( currentP - prevP );
    else if( prevP == currentP ) dir = normalize( nextP - currentP );
    else {
        vec2 dir1 = normalize( currentP - prevP );
        vec2 dir2 = normalize( nextP - currentP );
        dir = normalize( dir1 + dir2 );

        vec2 perp = vec2( -dir1.y, dir1.x );
        vec2 miter = vec2( -dir.y, dir.x );
    }
    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );
    normal.xy *= .5 * w;
    normal *= greasedLineProjection;
    if( sizeAttenuation == 0. ) {
        normal.xy *= finalPosition.w;
        normal.xy /= ( vec4( resolution, 0., 1. ) * greasedLineProjection ).xy;
    }

    finalPosition.xy += normal.xy * side;

    gl_Position = finalPosition;

`),this.Fragment_Definitions(`
      varying vec3 vNormal;
      varying float vCounters;
      flat in int vColorPointers;
`),this.Fragment_MainEnd(`
      if( useDash == 1. ){
        gl_FragColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
      }
      gl_FragColor.a *= step(vCounters, greasedLineVisibility);

      if( gl_FragColor.a < alphaTest ) discard;

      if (useColors == 1.) {
        gl_FragColor += texture2D(colors, vec2(float(vColorPointers)/float(count), 0.));
      } 
`),this.Fragment_Custom_Albedo(`
    normalW = vNormal;
`),this.onBindObservable.add(()=>{var n,h,a,y,x,w;this.getEffect().setMatrix("worldViewProjection",J.Identity().multiply(i.getTransformMatrix())),this.getEffect().setMatrix("greasedLineProjection",this.getScene().activeCamera.getProjectionMatrix()),this._updateUniforms&&(this.getEffect().setFloat("greasedLineVisibility",(n=this._parameters.visibility)!=null?n:1),this.getEffect().setFloat("useColors",b._bton(this._parameters.useColors)),this.getEffect().setFloat("useMap",b._bton(this._parameters.useMap)),this.getEffect().setFloat("useAlphaMap",b._bton(this._parameters.useAlphaMap)),this.getEffect().setColor3("color",(h=this._parameters.color)!=null?h:E.White()),this.getEffect().setVector2("resolution",(a=this._parameters.resolution)!=null?a:new I(this._engine.getRenderWidth(),this._engine.getRenderHeight())),this.getEffect().setFloat("sizeAttenuation",b._bton(this._parameters.sizeAttenuation)),this.getEffect().setFloat("dashArray",(y=this._parameters.dashArray)!=null?y:0),this.getEffect().setFloat("dashOffset",(x=this._parameters.dashOffset)!=null?x:0),this.getEffect().setFloat("dashRatio",(w=this._parameters.dashRatio)!=null?w:.5),this.getEffect().setFloat("useDash",b._bton(this._parameters.useDash)),this._updateUniforms=!1)}),this._parameters={}}setParameters(t){this._parameters=L(L({},this._parameters),t),this._updateUniforms=!0}getParameters(){return L({},this._parameters)}setVisibility(t){this._parameters.visibility=t,this._updateUniforms=!0}setLineWidth(t){this._parameters.lineWidth=t,this._updateUniforms=!0}setResolution(t){this._parameters.resolution=t,this._updateUniforms=!0}setSizeAttenuation(t){this._parameters.sizeAttenuation=t,this._updateUniforms=!0}setDashArray(t){this._parameters.dashArray=t,this._updateUniforms=!0}setDashOffset(t){this._parameters.dashOffset=t,this._updateUniforms=!0}setDashRatio(t){this._parameters.dashRatio=t,this._updateUniforms=!0}setUseDash(t){this._parameters.useDash=t,this._updateUniforms=!0}setuUeColors(t){this._parameters.useColors=t,this._updateUniforms=!0}setAlphaTest(t){this._parameters.alphaTest=t,this._updateUniforms=!0}static _bton(t){return t?1:0}}const St=30,A={EARTH_DIAMETER:50,EARTH_V:300,MOON_DIAMETER:25,ENV_H:2,SUN_DIAMETER:20,MOON_ROTATION:.005,DUST:1e3};function It(e,t){const i=e.getEngine();v();const{earth:s,moon:r,sun:o,godrays:u}=d(t),f=new mt("glow",e,{camera:t,blurKernelSize:128});f.intensity=2;const l=new Map;for(let n=0;n<St;n++){const h=Q.RandomRange(10,60),{points:a,cnt:y}=g(A.EARTH_DIAMETER,h),x=M(a),w=new b("line",e,{lineWidth:2,visibility:0,alphaTest:.001});x.position=s.position;const c=new _(Math.random()*2*Math.PI,Math.random()*2*Math.PI,Math.random()*2*Math.PI);x.rotation=c,w.backFaceCulling=!1,w.emissiveColor=new E(1,1,0),x.material=w;const R=Q.RandomRange(.005,.01),U=R/2,z={lineMesh:x,material:w,origin:new _(0,0,0),direction:new _(0,0,-1),length:h,points:a,visibility:0,visibilitySpeed:U,visibilityDirection:1,speed:R,opacity:1};f.referenceMeshToUseItsOwnMaterial(x),l.set(`line-${n}`,z)}setTimeout(()=>{m()},2e3);function m(){e.onBeforeRenderObservable.add(()=>{l.forEach(n=>{n.lineMesh.rotate(j.Z,n.direction.z*n.speed*e.getAnimationRatio()),n.lineMesh.rotate(j.Y,n.direction.y*n.speed*e.getAnimationRatio()),n.lineMesh.rotate(j.X,n.direction.x*n.speed*e.getAnimationRatio()),n.material.setVisibility(n.visibility),n.material.alpha=n.opacity,n.material.alphaMode=vt.MATERIAL_ALPHABLEND,n.visibility+=n.visibilityDirection*n.visibilitySpeed*e.getAnimationRatio(),n.visibility>1&&(n.opacity-=.01*e.getAnimationRatio(),n.opacity<0?(n.opacity=1,n.visibility=0):n.visibilityDirection=-1),n.visibility<-.2&&(n.visibility=0,n.visibilityDirection=1)})})}function v(){const n=V.CreateBox("universe",{size:1e4},e),h=new W("universe",e);return h.backFaceCulling=!1,h.reflectionTexture=new yt("textures/universe/universe",e),h.reflectionTexture.coordinatesMode=P.SKYBOX_MODE,h.disableLighting=!0,n.material=h,n}function d(n){const h=new xt("Omni",new _(0,0,0),e);h.diffuse=new E(.5,.5,.5);const a=V.CreateSphere("earth",{segments:A.EARTH_V,diameter:A.EARTH_DIAMETER},e);a.position=new _(-250,-10,0),a.rotation.z=Math.PI,a.applyDisplacementMap("/textures/earth-height.png",0,1);const y=new G("earth-mat",e,{vertex:"./shaders/demo/earth",fragment:"./shaders/demo/earth"},{attributes:["position","normal","uv"],uniforms:["world","worldView","worldViewProjection","diffuseTexture","nightTexture"]}),x=new P("textures/earth-diffuse.jpg",e),w=new P("textures/earth-night-o2.png",e);y.setVector3("vLightPosition",h.position),y.setTexture("diffuseTexture",x),y.setTexture("nightTexture",w),y.backFaceCulling=!1,a.material=y;const c=V.CreateSphere("moon",{segments:25,diameter:A.MOON_DIAMETER},e);c.position=new _(-102,0,0);const R=new W("moonMat",e);R.diffuseTexture=new P("textures/moon.jpg",e),R.bumpTexture=new P("textures/moon_bump.jpg",e),R.specularTexture=new P("textures/moon_spec.jpg",e),c.material=R,n.alpha=-Math.PI/2,n.beta=3*Math.PI/7,n.fov=1.5,n.lowerBetaLimit=.5,n.upperBetaLimit=2.5,n.lowerRadiusLimit=1,n.position=new _(55,5,55),n.target=a.position,n.radius=50,n.minZ=.01;const U=new G("cloudsMaterial",e,{vertex:"./shaders/demo/clouds",fragment:"./shaders/demo/clouds"},{attributes:["position","normal","uv"],uniforms:["world","worldView","worldViewProjection","cloudsTexture","lightPosition","cameraPosition"],needAlphaBlending:!0}),z=new P("textures/earth-c.jpg",e);U.setTexture("cloudsTexture",z),U.setVector3("cameraPosition",_.Zero());const F=V.CreateSphere("clouds",{segments:A.EARTH_V,diameter:A.EARTH_DIAMETER+A.ENV_H,updatable:!0},e);F.material=U,F.rotation.z=Math.PI,F.parent=a;const O=V.CreateSphere("sun",{segments:15,diameter:A.SUN_DIAMETER,updatable:!0},e),K=new W("sunMaterial",e),Z=new wt("fire",128,e);Z.fireColors=[new E(1,.7,.3),new E(1,.7,.3),new E(1,.5,0),new E(1,.5,0),new E(1,1,1),new E(1,.5,0)],K.emissiveTexture=Z,O.material=K,O.parent=h;const B=new At("godrays",1,n,O,100,P.BILINEAR_SAMPLINGMODE,i,!1);B.exposure=.95,B.decay=.96815,B.weight=.78767,B.density=1;for(var rt=new bt("dustManager","textures/particle32.png",A.DUST,32,e),$=0;$<A.DUST;$++){var C=new Mt("dust",rt);C.position.x=Math.random()*500-250,C.position.z=Math.random()*500-250,C.position.y=Math.random()*150-75,C.size=.4}var ot=new Ut(A.MOON_ROTATION,1.5,0,a.position.x,a.position.y,a.position.z,I.Distance(new I(c.position.x,c.position.z),new I(a.position.x,a.position.z)));function nt(p){return p.angle+=p.delta,new _(p.x+p.r*Math.sin(p.angle),p.y,p.z+p.focus*p.r*Math.cos(p.angle))}return e.onBeforeRenderObservable.add(()=>{n.alpha+=.005*e.getAnimationRatio(),a.rotation.y+=.001*e.getAnimationRatio();const p=e.getMaterialByName("cloudsMaterial");p&&(p.setVector3("cameraPosition",e.activeCamera.position),p.setVector3("lightPosition",h.position)),c.position=nt(ot),c.rotation.y+=.006*e.getAnimationRatio()}),{earth:a,moon:c,sun:O,godrays:B}}function M(n){return new k("flying-line",e,{points:n,widthCallback:a=>a<n.length*.02?[10,10]:a<n.length*.05?[8,8]:a<n.length*.1?[7,7]:a<n.length*.15?[5,5]:a<n.length*.2?[3,3]:a<n.length*.3?[2,2]:[1,1]})}function g(n,h=40){const a=Vt(n/1.9,h,.05);return{points:a,cnt:a.length}}}class Ut{constructor(t,i,s,r,o,u,f){this.delta=t,this.focus=i,this.angle=s,this.x=r,this.y=o,this.z=u,this.r=f}}const Bt=document.getElementById("app"),Ot=Et(Bt),st=Tt(),Ct=Rt();async function Lt(){It(st,Ct),Ot.runRenderLoop(()=>{st.render()})}Lt().catch(e=>console.error(e));
